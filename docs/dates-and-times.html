<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 날짜와 시간 | R 을 활용한 데이터과학</title>
  <meta name="description" content="8 날짜와 시간 | R 을 활용한 데이터과학" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="8 날짜와 시간 | R 을 활용한 데이터과학" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sulgik.github.io/r4ds/" />
  <meta property="og:image" content="https://sulgik.github.io/r4ds/cover.png" />
  
  <meta name="github-repo" content="sulgik/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 날짜와 시간 | R 을 활용한 데이터과학" />
  <meta name="twitter:site" content="@sulgik" />
  
  <meta name="twitter:image" content="https://sulgik.github.io/r4ds/cover.png" />

<meta name="author" content="개럿 그롤문드" />
<meta name="author" content="해들리 위컴" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="factors.html"/>
<link rel="next" href="program-intro.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>환영합니다</a></li>
<li class="part"><span><b>I 데이터 길들이기</b></span></li>
<li class="chapter" data-level="1" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>1</b> 소개</a></li>
<li class="chapter" data-level="2" data-path="tibble.html"><a href="tibble.html"><i class="fa fa-check"></i><b>2</b> 티블</a><ul>
<li class="chapter" data-level="2.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>2.1</b> 들어가기</a><ul>
<li class="chapter" data-level="2.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>2.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tibble.html"><a href="tibble.html#tibbles"><i class="fa fa-check"></i><b>2.2</b> tibble 생성하기</a></li>
<li class="chapter" data-level="2.3" data-path="tibble.html"><a href="tibble.html#tibble-vs.data.frame"><i class="fa fa-check"></i><b>2.3</b> Tibble vs. data.frame</a><ul>
<li class="chapter" data-level="2.3.1" data-path="tibble.html"><a href="tibble.html#화면출력"><i class="fa fa-check"></i><b>2.3.1</b> 화면출력</a></li>
<li class="chapter" data-level="2.3.2" data-path="tibble.html"><a href="tibble.html#서브셋하기"><i class="fa fa-check"></i><b>2.3.2</b> 서브셋하기</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tibble.html"><a href="tibble.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>2.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="2.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>3</b> 데이터 불러오기</a><ul>
<li class="chapter" data-level="3.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>3.1</b> 들어가기</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>3.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-import.html"><a href="data-import.html#시작하기"><i class="fa fa-check"></i><b>3.2</b> 시작하기</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-import.html"><a href="data-import.html#베이스-r과-비교"><i class="fa fa-check"></i><b>3.2.1</b> 베이스 R과 비교</a></li>
<li class="chapter" data-level="3.2.2" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>3.2.2</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-import.html"><a href="data-import.html#벡터-파싱하기"><i class="fa fa-check"></i><b>3.3</b> 벡터 파싱하기</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-import.html"><a href="data-import.html#숫자"><i class="fa fa-check"></i><b>3.3.1</b> 숫자</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>3.3.2</b> 문자열</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>3.3.3</b> 팩터형</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>3.3.4</b> 데이트형, 데이트-타임형, 타임형</a></li>
<li class="chapter" data-level="3.3.5" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>3.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-import.html"><a href="data-import.html#파일-파싱하기"><i class="fa fa-check"></i><b>3.4</b> 파일 파싱하기</a><ul>
<li class="chapter" data-level="3.4.1" data-path="data-import.html"><a href="data-import.html#전략"><i class="fa fa-check"></i><b>3.4.1</b> 전략</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-import.html"><a href="data-import.html#문제점"><i class="fa fa-check"></i><b>3.4.2</b> 문제점</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-import.html"><a href="data-import.html#기타-전략"><i class="fa fa-check"></i><b>3.4.3</b> 기타 전략</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-import.html"><a href="data-import.html#파일에-쓰기"><i class="fa fa-check"></i><b>3.5</b> 파일에 쓰기</a></li>
<li class="chapter" data-level="3.6" data-path="data-import.html"><a href="data-import.html#기타-데이터-유형"><i class="fa fa-check"></i><b>3.6</b> 기타 데이터 유형</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4</b> 타이디 데이터</a><ul>
<li class="chapter" data-level="4.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>4.1</b> 들어가기</a><ul>
<li class="chapter" data-level="4.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>4.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>4.2</b> Tidy Data</a><ul>
<li class="chapter" data-level="4.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>4.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidy-data.html"><a href="tidy-data.html#피봇팅"><i class="fa fa-check"></i><b>4.3</b> 피봇팅</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidy-data.html"><a href="tidy-data.html#longer"><i class="fa fa-check"></i><b>4.3.1</b> Longer</a></li>
<li class="chapter" data-level="4.3.2" data-path="tidy-data.html"><a href="tidy-data.html#wider"><i class="fa fa-check"></i><b>4.3.2</b> Wider</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>4.3.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidy-data.html"><a href="tidy-data.html#separate-과-unite"><i class="fa fa-check"></i><b>4.4</b> separate 과 unite</a><ul>
<li class="chapter" data-level="4.4.1" data-path="tidy-data.html"><a href="tidy-data.html#separate"><i class="fa fa-check"></i><b>4.4.1</b> separate</a></li>
<li class="chapter" data-level="4.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>4.4.2</b> unite</a></li>
<li class="chapter" data-level="4.4.3" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>4.4.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tidy-data.html"><a href="tidy-data.html#결측값"><i class="fa fa-check"></i><b>4.5</b> 결측값</a><ul>
<li class="chapter" data-level="4.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>4.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tidy-data.html"><a href="tidy-data.html#사례-연구"><i class="fa fa-check"></i><b>4.6</b> 사례 연구</a><ul>
<li class="chapter" data-level="4.6.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-4"><i class="fa fa-check"></i><b>4.6.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="tidy-data.html"><a href="tidy-data.html#타이디하지-않은-데이터"><i class="fa fa-check"></i><b>4.7</b> 타이디하지 않은 데이터</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>5</b> 관계형 데이터</a><ul>
<li class="chapter" data-level="5.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>5.1</b> 들어가기</a><ul>
<li class="chapter" data-level="5.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>5.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>5.2</b> nycflights13</a><ul>
<li class="chapter" data-level="5.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>5.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="relational-data.html"><a href="relational-data.html#키"><i class="fa fa-check"></i><b>5.3</b> 키</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>5.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>5.4</b> 뮤테이팅 조인</a><ul>
<li class="chapter" data-level="5.4.1" data-path="relational-data.html"><a href="relational-data.html#조인-이해하기"><i class="fa fa-check"></i><b>5.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="5.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>5.4.2</b> 내부 조인</a></li>
<li class="chapter" data-level="5.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>5.4.3</b> 외부 조인</a></li>
<li class="chapter" data-level="5.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>5.4.4</b> 중복키</a></li>
<li class="chapter" data-level="5.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>5.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="5.4.6" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>5.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="5.4.7" data-path="relational-data.html"><a href="relational-data.html#기타-구현"><i class="fa fa-check"></i><b>5.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>5.5</b> 필터링 조인</a><ul>
<li class="chapter" data-level="5.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>5.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="relational-data.html"><a href="relational-data.html#조인-문제"><i class="fa fa-check"></i><b>5.6</b> 조인 문제</a></li>
<li class="chapter" data-level="5.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>5.7</b> 집합 연산</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>6</b> 문자열</a><ul>
<li class="chapter" data-level="6.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>6.1</b> 들어가기</a><ul>
<li class="chapter" data-level="6.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>6.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="strings.html"><a href="strings.html#strings-basics"><i class="fa fa-check"></i><b>6.2</b> 문자열 기초</a><ul>
<li class="chapter" data-level="6.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>6.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="6.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>6.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="6.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>6.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="6.2.4" data-path="strings.html"><a href="strings.html#로캘"><i class="fa fa-check"></i><b>6.2.4</b> 로캘</a></li>
<li class="chapter" data-level="6.2.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>6.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="strings.html"><a href="strings.html#정규표현식을-이용한-패턴-매칭"><i class="fa fa-check"></i><b>6.3</b> 정규표현식을 이용한 패턴 매칭</a><ul>
<li class="chapter" data-level="6.3.1" data-path="strings.html"><a href="strings.html#기초-매칭"><i class="fa fa-check"></i><b>6.3.1</b> 기초 매칭</a></li>
<li class="chapter" data-level="6.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>6.3.2</b> 앵커</a></li>
<li class="chapter" data-level="6.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>6.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="6.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>6.3.4</b> 반복</a></li>
<li class="chapter" data-level="6.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>6.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="strings.html"><a href="strings.html#도구"><i class="fa fa-check"></i><b>6.4</b> 도구</a><ul>
<li class="chapter" data-level="6.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>6.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="6.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>6.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="6.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>6.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="6.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>6.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="6.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>6.4.5</b> Splitting</a></li>
<li class="chapter" data-level="6.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>6.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="strings.html"><a href="strings.html#기타-패턴-유형"><i class="fa fa-check"></i><b>6.5</b> 기타 패턴 유형</a><ul>
<li class="chapter" data-level="6.5.1" data-path="strings.html"><a href="strings.html#연습문제-11"><i class="fa fa-check"></i><b>6.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="strings.html"><a href="strings.html#정규표현식의-기타-용도"><i class="fa fa-check"></i><b>6.6</b> 정규표현식의 기타 용도</a></li>
<li class="chapter" data-level="6.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>6.7</b> stringi</a><ul>
<li class="chapter" data-level="6.7.1" data-path="strings.html"><a href="strings.html#연습문제-12"><i class="fa fa-check"></i><b>6.7.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> 팩터형</a><ul>
<li class="chapter" data-level="7.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>7.1</b> 들어가기</a><ul>
<li class="chapter" data-level="7.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>7.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="7.1.2" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>7.1.2</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#팩터형-생성하기"><i class="fa fa-check"></i><b>7.2</b> 팩터형 생성하기</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>7.3</b> General Social Survey</a><ul>
<li class="chapter" data-level="7.3.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>7.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#팩터-순서-수정하기"><i class="fa fa-check"></i><b>7.4</b> 팩터 순서 수정하기</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>7.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="factors.html"><a href="factors.html#팩터-레벨-수정하기"><i class="fa fa-check"></i><b>7.5</b> 팩터 레벨 수정하기</a><ul>
<li class="chapter" data-level="7.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>7.5.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>8</b> 날짜와 시간</a><ul>
<li class="chapter" data-level="8.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>8.1</b> 들어가기</a><ul>
<li class="chapter" data-level="8.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>8.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dates-and-times.html"><a href="dates-and-times.html#날짜시간-생성하기"><i class="fa fa-check"></i><b>8.2</b> 날짜/시간 생성하기</a><ul>
<li class="chapter" data-level="8.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#문자열에서-생성"><i class="fa fa-check"></i><b>8.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="8.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#개별-구성요소에서-생성"><i class="fa fa-check"></i><b>8.2.2</b> 개별 구성요소에서 생성</a></li>
<li class="chapter" data-level="8.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>8.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="8.2.4" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>8.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="dates-and-times.html"><a href="dates-and-times.html#데이트-타임형-구성요소"><i class="fa fa-check"></i><b>8.3</b> 데이트-타임형 구성요소</a><ul>
<li class="chapter" data-level="8.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-가져오기"><i class="fa fa-check"></i><b>8.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="8.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#반올림"><i class="fa fa-check"></i><b>8.3.2</b> 반올림</a></li>
<li class="chapter" data-level="8.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-설정"><i class="fa fa-check"></i><b>8.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>8.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="dates-and-times.html"><a href="dates-and-times.html#시간-범위"><i class="fa fa-check"></i><b>8.4</b> 시간 범위</a><ul>
<li class="chapter" data-level="8.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#듀레이션형"><i class="fa fa-check"></i><b>8.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="8.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#피리어드형"><i class="fa fa-check"></i><b>8.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="8.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#인터벌형"><i class="fa fa-check"></i><b>8.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="8.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#요약"><i class="fa fa-check"></i><b>8.4.4</b> 요약</a></li>
<li class="chapter" data-level="8.4.5" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>8.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>8.5</b> 시간대</a></li>
</ul></li>
<li class="part"><span><b>II 프로그래밍</b></span></li>
<li class="chapter" data-level="9" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>9</b> 소개</a><ul>
<li class="chapter" data-level="9.1" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>9.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Pipes.html"><a href="Pipes.html"><i class="fa fa-check"></i><b>10</b> 파이프</a><ul>
<li class="chapter" data-level="10.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>10.1</b> 들어가기</a><ul>
<li class="chapter" data-level="10.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>10.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="Pipes.html"><a href="Pipes.html#파이프-대안"><i class="fa fa-check"></i><b>10.2</b> 파이프 대안</a><ul>
<li class="chapter" data-level="10.2.1" data-path="Pipes.html"><a href="Pipes.html#중간단계-이용"><i class="fa fa-check"></i><b>10.2.1</b> 중간단계 이용</a></li>
<li class="chapter" data-level="10.2.2" data-path="Pipes.html"><a href="Pipes.html#원본-덮어쓰기"><i class="fa fa-check"></i><b>10.2.2</b> 원본 덮어쓰기</a></li>
<li class="chapter" data-level="10.2.3" data-path="Pipes.html"><a href="Pipes.html#함수-작성"><i class="fa fa-check"></i><b>10.2.3</b> 함수 작성</a></li>
<li class="chapter" data-level="10.2.4" data-path="Pipes.html"><a href="Pipes.html#파이프-사용"><i class="fa fa-check"></i><b>10.2.4</b> 파이프 사용</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Pipes.html"><a href="Pipes.html#파이프를-사용하지-않아야-할-경우"><i class="fa fa-check"></i><b>10.3</b> 파이프를 사용하지 않아야 할 경우</a></li>
<li class="chapter" data-level="10.4" data-path="Pipes.html"><a href="Pipes.html#magrittr-의-기타-도구"><i class="fa fa-check"></i><b>10.4</b> magrittr 의 기타 도구</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>11</b> 함수</a><ul>
<li class="chapter" data-level="11.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>11.1</b> 들어가기</a><ul>
<li class="chapter" data-level="11.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>11.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="functions.html"><a href="functions.html#함수를-언제-작성해야-하나"><i class="fa fa-check"></i><b>11.2</b> 함수를 언제 작성해야 하나?</a><ul>
<li class="chapter" data-level="11.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>11.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions.html"><a href="functions.html#함수는-사람과-컴퓨터를-위한-것"><i class="fa fa-check"></i><b>11.3</b> 함수는 사람과 컴퓨터를 위한 것</a><ul>
<li class="chapter" data-level="11.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>11.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functions.html"><a href="functions.html#조건부-실행"><i class="fa fa-check"></i><b>11.4</b> 조건부 실행</a><ul>
<li class="chapter" data-level="11.4.1" data-path="functions.html"><a href="functions.html#조건문"><i class="fa fa-check"></i><b>11.4.1</b> 조건문</a></li>
<li class="chapter" data-level="11.4.2" data-path="functions.html"><a href="functions.html#다중-조건"><i class="fa fa-check"></i><b>11.4.2</b> 다중 조건</a></li>
<li class="chapter" data-level="11.4.3" data-path="functions.html"><a href="functions.html#코드-스타일"><i class="fa fa-check"></i><b>11.4.3</b> 코드 스타일</a></li>
<li class="chapter" data-level="11.4.4" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>11.4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="functions.html"><a href="functions.html#함수-인수"><i class="fa fa-check"></i><b>11.5</b> 함수 인수</a><ul>
<li class="chapter" data-level="11.5.1" data-path="functions.html"><a href="functions.html#이름-정하기"><i class="fa fa-check"></i><b>11.5.1</b> 이름 정하기</a></li>
<li class="chapter" data-level="11.5.2" data-path="functions.html"><a href="functions.html#값-확인하기"><i class="fa fa-check"></i><b>11.5.2</b> 값 확인하기</a></li>
<li class="chapter" data-level="11.5.3" data-path="functions.html"><a href="functions.html#점-점-점"><i class="fa fa-check"></i><b>11.5.3</b> 점-점-점 (…)</a></li>
<li class="chapter" data-level="11.5.4" data-path="functions.html"><a href="functions.html#지연-평가"><i class="fa fa-check"></i><b>11.5.4</b> 지연 평가</a></li>
<li class="chapter" data-level="11.5.5" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>11.5.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="functions.html"><a href="functions.html#반환값"><i class="fa fa-check"></i><b>11.6</b> 반환값</a><ul>
<li class="chapter" data-level="11.6.1" data-path="functions.html"><a href="functions.html#명시적-반환문"><i class="fa fa-check"></i><b>11.6.1</b> 명시적 반환문</a></li>
<li class="chapter" data-level="11.6.2" data-path="functions.html"><a href="functions.html#파이핑-가능한-함수-작성하기"><i class="fa fa-check"></i><b>11.6.2</b> 파이핑 가능한 함수 작성하기</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="functions.html"><a href="functions.html#환경"><i class="fa fa-check"></i><b>11.7</b> 환경</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>12</b> 벡터</a><ul>
<li class="chapter" data-level="12.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>12.1</b> 들어가기</a><ul>
<li class="chapter" data-level="12.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>12.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="vectors.html"><a href="vectors.html#벡터-기본-사항"><i class="fa fa-check"></i><b>12.2</b> 벡터 기본 사항</a></li>
<li class="chapter" data-level="12.3" data-path="vectors.html"><a href="vectors.html#원자-벡터의-주요-유형"><i class="fa fa-check"></i><b>12.3</b> 원자 벡터의 주요 유형</a><ul>
<li class="chapter" data-level="12.3.1" data-path="vectors.html"><a href="vectors.html#논리형"><i class="fa fa-check"></i><b>12.3.1</b> 논리형</a></li>
<li class="chapter" data-level="12.3.2" data-path="vectors.html"><a href="vectors.html#수치형"><i class="fa fa-check"></i><b>12.3.2</b> 수치형</a></li>
<li class="chapter" data-level="12.3.3" data-path="vectors.html"><a href="vectors.html#문자형"><i class="fa fa-check"></i><b>12.3.3</b> 문자형</a></li>
<li class="chapter" data-level="12.3.4" data-path="tidy-data.html"><a href="tidy-data.html#결측값"><i class="fa fa-check"></i><b>12.3.4</b> 결측값</a></li>
<li class="chapter" data-level="12.3.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>12.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="vectors.html"><a href="vectors.html#원자벡터-이용하기"><i class="fa fa-check"></i><b>12.4</b> 원자벡터 이용하기</a><ul>
<li class="chapter" data-level="12.4.1" data-path="vectors.html"><a href="vectors.html#강제변환"><i class="fa fa-check"></i><b>12.4.1</b> 강제변환</a></li>
<li class="chapter" data-level="12.4.2" data-path="vectors.html"><a href="vectors.html#테스트-함수"><i class="fa fa-check"></i><b>12.4.2</b> 테스트 함수</a></li>
<li class="chapter" data-level="12.4.3" data-path="vectors.html"><a href="vectors.html#스칼라와-재활용-규칙"><i class="fa fa-check"></i><b>12.4.3</b> 스칼라와 재활용 규칙</a></li>
<li class="chapter" data-level="12.4.4" data-path="vectors.html"><a href="vectors.html#벡터-이름-짓기"><i class="fa fa-check"></i><b>12.4.4</b> 벡터 이름 짓기</a></li>
<li class="chapter" data-level="12.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>12.4.5</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.4.6" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>12.4.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>12.5</b> 재귀 벡터 (리스트)</a><ul>
<li class="chapter" data-level="12.5.1" data-path="vectors.html"><a href="vectors.html#리스트-시각화"><i class="fa fa-check"></i><b>12.5.1</b> 리스트 시각화</a></li>
<li class="chapter" data-level="12.5.2" data-path="tibble.html"><a href="tibble.html#서브셋하기"><i class="fa fa-check"></i><b>12.5.2</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.5.3" data-path="vectors.html"><a href="vectors.html#후추-리스트"><i class="fa fa-check"></i><b>12.5.3</b> 후추 리스트</a></li>
<li class="chapter" data-level="12.5.4" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>12.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>12.6</b> Attributes</a></li>
<li class="chapter" data-level="12.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>12.7</b> Augmented vectors</a><ul>
<li class="chapter" data-level="12.7.1" data-path="factors.html"><a href="factors.html#factors"><i class="fa fa-check"></i><b>12.7.1</b> Factors</a></li>
<li class="chapter" data-level="12.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>12.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="12.7.3" data-path="tibble.html"><a href="tibble.html#tibbles"><i class="fa fa-check"></i><b>12.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="12.7.4" data-path="vectors.html"><a href="vectors.html#exercises-1"><i class="fa fa-check"></i><b>12.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III 의사소통하기</b></span></li>
<li class="chapter" data-level="13" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>13</b> 소개</a></li>
<li class="chapter" data-level="14" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>14</b> R 마크다운</a><ul>
<li class="chapter" data-level="14.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>14.1</b> 들어가기</a><ul>
<li class="chapter" data-level="14.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>14.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-마크다운-기초"><i class="fa fa-check"></i><b>14.2</b> R 마크다운 기초</a><ul>
<li class="chapter" data-level="14.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>14.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="rmarkdown.html"><a href="rmarkdown.html#마크다운으로-텍스트-서식-지정하기"><i class="fa fa-check"></i><b>14.3</b> 마크다운으로 텍스트 서식 지정하기</a><ul>
<li class="chapter" data-level="14.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>14.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="rmarkdown.html"><a href="rmarkdown.html#코드-청크"><i class="fa fa-check"></i><b>14.4</b> 코드 청크</a><ul>
<li class="chapter" data-level="14.4.1" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-이름"><i class="fa fa-check"></i><b>14.4.1</b> 청크 이름</a></li>
<li class="chapter" data-level="14.4.2" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-옵션"><i class="fa fa-check"></i><b>14.4.2</b> 청크 옵션</a></li>
<li class="chapter" data-level="14.4.3" data-path="rmarkdown.html"><a href="rmarkdown.html#표"><i class="fa fa-check"></i><b>14.4.3</b> 표</a></li>
<li class="chapter" data-level="14.4.4" data-path="rmarkdown.html"><a href="rmarkdown.html#캐싱"><i class="fa fa-check"></i><b>14.4.4</b> 캐싱</a></li>
<li class="chapter" data-level="14.4.5" data-path="rmarkdown.html"><a href="rmarkdown.html#전역-옵션"><i class="fa fa-check"></i><b>14.4.5</b> 전역 옵션</a></li>
<li class="chapter" data-level="14.4.6" data-path="rmarkdown.html"><a href="rmarkdown.html#inline-code"><i class="fa fa-check"></i><b>14.4.6</b> Inline code</a></li>
<li class="chapter" data-level="14.4.7" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>14.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="rmarkdown.html"><a href="rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>14.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="14.6" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>14.6</b> YAML header</a><ul>
<li class="chapter" data-level="14.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#parameters"><i class="fa fa-check"></i><b>14.6.1</b> Parameters</a></li>
<li class="chapter" data-level="14.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>14.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>14.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>15</b> 그래프를 통한 의사소통</a><ul>
<li class="chapter" data-level="15.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>15.1</b> 들어가기</a><ul>
<li class="chapter" data-level="15.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>15.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>15.2</b> Label</a><ul>
<li class="chapter" data-level="15.2.1" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>15.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>15.3</b> Annotations</a><ul>
<li class="chapter" data-level="15.3.1" data-path="vectors.html"><a href="vectors.html#exercises-1"><i class="fa fa-check"></i><b>15.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>15.4</b> Scales</a><ul>
<li class="chapter" data-level="15.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>15.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="15.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>15.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="15.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>15.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="15.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-2"><i class="fa fa-check"></i><b>15.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>15.5</b> Zooming</a></li>
<li class="chapter" data-level="15.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>15.6</b> Themes</a></li>
<li class="chapter" data-level="15.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>15.7</b> Saving your plots</a><ul>
<li class="chapter" data-level="15.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>15.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="15.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>15.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>15.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html"><i class="fa fa-check"></i><b>16</b> R 마크다운 유형</a><ul>
<li class="chapter" data-level="16.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>16.1</b> 들어가기</a></li>
<li class="chapter" data-level="16.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#출력-옵션"><i class="fa fa-check"></i><b>16.2</b> 출력 옵션</a></li>
<li class="chapter" data-level="16.3" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#document"><i class="fa fa-check"></i><b>16.3</b> Document</a></li>
<li class="chapter" data-level="16.4" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#notebook"><i class="fa fa-check"></i><b>16.4</b> Notebook</a></li>
<li class="chapter" data-level="16.5" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#presentation"><i class="fa fa-check"></i><b>16.5</b> Presentation</a></li>
<li class="chapter" data-level="16.6" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#dashboard"><i class="fa fa-check"></i><b>16.6</b> Dashboard</a></li>
<li class="chapter" data-level="16.7" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#대화형-동작"><i class="fa fa-check"></i><b>16.7</b> 대화형 동작</a><ul>
<li class="chapter" data-level="16.7.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>16.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="16.7.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#shiny"><i class="fa fa-check"></i><b>16.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#website"><i class="fa fa-check"></i><b>16.8</b> Website</a></li>
<li class="chapter" data-level="16.9" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#other-formats"><i class="fa fa-check"></i><b>16.9</b> Other formats</a></li>
<li class="chapter" data-level="16.10" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>16.10</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="rmarkdown-workflow.html"><a href="rmarkdown-workflow.html"><i class="fa fa-check"></i><b>17</b> R 마크다운 워크플로</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 을 활용한 데이터과학</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dates-and-times" class="section level1">
<h1><span class="header-section-number">8</span> 날짜와 시간</h1>
<div id="들어가기" class="section level2">
<h2><span class="header-section-number">8.1</span> 들어가기</h2>
<p>이 장에서는 R 에서 날짜와 시간을 다루는 법을 볼 것이다. 언뜻 생각하면 날짜와 시간은 간단해 보인다. 일상 생활에서 늘 사용하고 있으며 복잡할 것이 없을 것 같다. 그러나 날짜와 시간에 대해 배울수록 더 복잡해 보일 것이다. 몸풀기로, 간단해 보이는 다음 세 문제를 보자.</p>
<ul>
<li>1년은 항상 365일인가?</li>
<li>1일은 항상 24시인가?</li>
<li>1분은 항상 60초인가?</li>
</ul>
<p>1년이 항상 365일은 아니라는 걸 대부분 알고 있을 것이다. 하지만 한 해가 윤년인지를 결정하는 규칙을 완벽하게 알고 있는가?(세 파트가 있다.) 세계 많은 곳에서 일광절약제(daylight saving time, DST)를 이용하고 있고, 따라서 어떤 날은 23시이고, 다른 날은 25시라는 것을 기억하는 사람도 있을 것이다. 지구 자전이 점차 느려지기 때문에 윤초가 추가되어 가끔씩 1분이 61초가 된다는 것을 아는 사람은 많지 않을 것이다.</p>
<p>날짜와 시간은 두 가지 물리 현상(지구 자전과 공전)과 월, 시간대, 일광절약제를 포함한 많은 지정학적 현상을 조화시켜야 하기 때문에 쉬운 문제가 아니다. 이 장에서는 날짜와 시간에 대해 세부 사항을 속속들이 배우지는 않겠지만 일반적인 데이터 분석 문제에 이용할 수 있는 기술들을 탄탄히 배울 것이다.</p>
<div id="준비하기" class="section level3">
<h3><span class="header-section-number">8.1.1</span> 준비하기</h3>
<p>이 장에서는 <strong>lubridate</strong> 패키지를 주로 살펴볼 것인데, 이 패키지를 쓰면 R에서 날짜와 시간을 다룰 수 있다. <strong>lubridate</strong> 는 날짜/시간 작업을 할 때만 필요하기 때문에, 핵심 tidyverse 에 포함되어 있지 않다. 실습데이터로 이용할 <strong>nycflights13</strong> 도 필요하다.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb226-2" data-line-number="2"></a>
<a class="sourceLine" id="cb226-3" data-line-number="3"><span class="kw">library</span>(lubridate)</a>
<a class="sourceLine" id="cb226-4" data-line-number="4"><span class="kw">library</span>(nycflights13)</a></code></pre></div>
</div>
</div>
<div id="날짜시간-생성하기" class="section level2">
<h2><span class="header-section-number">8.2</span> 날짜/시간 생성하기</h2>
<p>시각을 나타내는 날짜/시간의 세 가지 유형이 있다.</p>
<ul>
<li><p><strong>데이트형 (date)</strong> : 날짜. 티블에서 <code>&lt;date&gt;</code> 로 출력한다.</p></li>
<li><p><strong>타임형 (time)</strong> : 하루 중 시간. 티블에서 <code>&lt;time&gt;</code> 으로 출력한다.</p></li>
<li><p><strong>데이트-타임형 (date-time)</strong> : 날짜 더하기 시간. 시점을 고유하게 (일반적으로 가장 가까운 초로) 식별한다. 티블에서 <code>&lt;dttm&gt;</code> 으로 출력한다. R의 다른 부분에서는 POSIXct 라고 부르지만, 그다지 유용한 이름은 아니라고 생각한다.</p></li>
</ul>
<p>R에는 시간 저장을 위한 네이티브 클래스가 없기 때문에 이 장에서는 데이트형과 데이트-타임형에만 집중할 것이다. 네이티브 클래스가 필요하다면 <strong>hms</strong> 패키지를 이용해보라.</p>
<p>사용자 요구를 충족하는 데이터 유형 중, 가능한 한 가장 간단한 것을 사용해야 한다. 즉 데이트-타임형 대신 데이트형을 써도 된다면 그래야 한다는 말이다. 데이트-타임형은 시간대를 다루기 때문에 훨씬 더 복잡한데 이 장의 끝에서 살펴볼 것이다.</p>
<p>현재 날짜 또는 데이트-타임을 얻으려면 <code>today()</code> 또는 <code>now()</code> 를 사용하면 된다.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1"><span class="kw">today</span>()</a>
<a class="sourceLine" id="cb227-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2020-09-02&quot;</span></a>
<a class="sourceLine" id="cb227-3" data-line-number="3"><span class="kw">now</span>()</a>
<a class="sourceLine" id="cb227-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2020-09-02 15:39:17 KST&quot;</span></a></code></pre></div>
<p>이 외에 날짜/시간을 생성하는 세 가지 방법이 있다.</p>
<ul>
<li>문자열로부터</li>
<li>개별 데이트-타임형 구성요소로부터</li>
<li>기존의 날짜/시간 객체로부터</li>
</ul>
<p>이들의 작동 방식을 살펴보자.</p>
<div id="문자열에서-생성" class="section level3">
<h3><span class="header-section-number">8.2.1</span> 문자열에서 생성</h3>
<p>날짜/시간 데이터는 종종 문자열로 주어진다. 우리는 이미 <a href="data-import.html#readr-datetimes">date-times</a> 에서 문자열을 데이트-타임형으로 파싱하는 법을 보았다. 다른 방법은 <strong>lubridate</strong> 에서 제공하는 도우미를 사용하는 것이다. 구성요소의 순서만 지정하면 자동으로 형식을 맞춘다. 도우미를 이용하는 법은 주어진 날짜에 나타난 연, 월, 일의 순서를 확인한 후, <code>“y”, “m”, “d”</code> 를 같은 순서로 배치하는 것이다. 이것이 바로 <strong>lubridate</strong> 함수의 이름이 되고 주어진 날짜를 파싱한다. 예를 들면</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="kw">ymd</span>(<span class="st">&quot;2017-01-31&quot;</span>)</a>
<a class="sourceLine" id="cb228-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2017-01-31&quot;</span></a>
<a class="sourceLine" id="cb228-3" data-line-number="3"><span class="kw">mdy</span>(<span class="st">&quot;January 31st, 2017&quot;</span>)</a>
<a class="sourceLine" id="cb228-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2017-01-31&quot;</span></a>
<a class="sourceLine" id="cb228-5" data-line-number="5"><span class="kw">dmy</span>(<span class="st">&quot;31-Jan-2017&quot;</span>)</a>
<a class="sourceLine" id="cb228-6" data-line-number="6"><span class="co">#&gt; [1] &quot;2017-01-31&quot;</span></a></code></pre></div>
<p>이 함수들은 따옴표로 둘러싸이지 않은 숫자도 받아들인다. 이는 단일 날짜/시간 객체를 생성하는 방법들 중 가장 간결한 방법인데, 날짜/시간 데이터를 필터링할 때 사용할 수 있다. <code>ymd()</code> 는 간결하고 모호하지 않다.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1"><span class="kw">ymd</span>(<span class="dv">20170131</span>)</a>
<a class="sourceLine" id="cb229-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2017-01-31&quot;</span></a></code></pre></div>
<p><code>ymd()</code> 와 같은 함수들은 데이트형을 생성한다. 데이트-타임형을 생성하려면 파싱 함수 이름에 언더스코어와 “h”, “m”, “s” 중 하나 이상을 추가해야 한다.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="kw">ymd_hms</span>(<span class="st">&quot;2017-01-31 20:11:59&quot;</span>)</a>
<a class="sourceLine" id="cb230-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2017-01-31 20:11:59 UTC&quot;</span></a>
<a class="sourceLine" id="cb230-3" data-line-number="3"><span class="kw">mdy_hm</span>(<span class="st">&quot;01/31/2017 08:01&quot;</span>)</a>
<a class="sourceLine" id="cb230-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2017-01-31 08:01:00 UTC&quot;</span></a></code></pre></div>
<p>시간대를 제공하여 날짜로부터 데이트-타임형을 강제 생성할 수도 있다.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="kw">ymd</span>(<span class="dv">20170131</span>, <span class="dt">tz =</span> <span class="st">&quot;UTC&quot;</span>)</a>
<a class="sourceLine" id="cb231-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2017-01-31 UTC&quot;</span></a></code></pre></div>
</div>
<div id="개별-구성요소에서-생성" class="section level3">
<h3><span class="header-section-number">8.2.2</span> 개별 구성요소에서 생성</h3>
<p>때로는 문자열이 아니라 데이트-타임형의 개별 구성요소들이 여러 열에 걸쳐 있는 경우가 있을 것이다. <strong>flights</strong> 데이터에 있는 것이 그렇다.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb232-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(year, month, day, hour, minute)</a>
<a class="sourceLine" id="cb232-3" data-line-number="3"><span class="co">#&gt; # A tibble: 336,776 x 5</span></a>
<a class="sourceLine" id="cb232-4" data-line-number="4"><span class="co">#&gt;    year month   day  hour minute</span></a>
<a class="sourceLine" id="cb232-5" data-line-number="5"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb232-6" data-line-number="6"><span class="co">#&gt; 1  2013     1     1     5     15</span></a>
<a class="sourceLine" id="cb232-7" data-line-number="7"><span class="co">#&gt; 2  2013     1     1     5     29</span></a>
<a class="sourceLine" id="cb232-8" data-line-number="8"><span class="co">#&gt; 3  2013     1     1     5     40</span></a>
<a class="sourceLine" id="cb232-9" data-line-number="9"><span class="co">#&gt; 4  2013     1     1     5     45</span></a>
<a class="sourceLine" id="cb232-10" data-line-number="10"><span class="co">#&gt; 5  2013     1     1     6      0</span></a>
<a class="sourceLine" id="cb232-11" data-line-number="11"><span class="co">#&gt; 6  2013     1     1     5     58</span></a>
<a class="sourceLine" id="cb232-12" data-line-number="12"><span class="co">#&gt; # … with 336,770 more rows</span></a></code></pre></div>
<p>이러한 입력으로 날짜/시간을 생성하려면 데이트형은 <code>make_date()</code> 를, 데이트-타임형은 <code>make_datetime()</code> 를 쓰면 된다.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb233-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(year, month, day, hour, minute) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb233-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">departure =</span> <span class="kw">make_datetime</span>(year, month, day, hour, minute))</a>
<a class="sourceLine" id="cb233-4" data-line-number="4"><span class="co">#&gt; # A tibble: 336,776 x 6</span></a>
<a class="sourceLine" id="cb233-5" data-line-number="5"><span class="co">#&gt;    year month   day  hour minute departure          </span></a>
<a class="sourceLine" id="cb233-6" data-line-number="6"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dttm&gt;             </span></a>
<a class="sourceLine" id="cb233-7" data-line-number="7"><span class="co">#&gt; 1  2013     1     1     5     15 2013-01-01 05:15:00</span></a>
<a class="sourceLine" id="cb233-8" data-line-number="8"><span class="co">#&gt; 2  2013     1     1     5     29 2013-01-01 05:29:00</span></a>
<a class="sourceLine" id="cb233-9" data-line-number="9"><span class="co">#&gt; 3  2013     1     1     5     40 2013-01-01 05:40:00</span></a>
<a class="sourceLine" id="cb233-10" data-line-number="10"><span class="co">#&gt; 4  2013     1     1     5     45 2013-01-01 05:45:00</span></a>
<a class="sourceLine" id="cb233-11" data-line-number="11"><span class="co">#&gt; 5  2013     1     1     6      0 2013-01-01 06:00:00</span></a>
<a class="sourceLine" id="cb233-12" data-line-number="12"><span class="co">#&gt; 6  2013     1     1     5     58 2013-01-01 05:58:00</span></a>
<a class="sourceLine" id="cb233-13" data-line-number="13"><span class="co">#&gt; # … with 336,770 more rows</span></a></code></pre></div>
<p>‘flights’ 네 개의 시간 열 각각에 대해 같은 작업을 하자. 시간이 약간 이상한 형식으로 표시되었으므로, 나머지 연산으로 시와 분 구성요소를 추출한다. 이제 데이트-타임형 변수를 생성했으니 이 장의 나머지 부분에서는 이 변수들을 탐색해 볼 것이다.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1">make_datetime_<span class="dv">100</span> &lt;-<span class="st"> </span><span class="cf">function</span>(year, month, day, time) {</a>
<a class="sourceLine" id="cb234-2" data-line-number="2">  <span class="kw">make_datetime</span>(year, month, day, time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>, time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>)</a>
<a class="sourceLine" id="cb234-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb234-4" data-line-number="4"></a>
<a class="sourceLine" id="cb234-5" data-line-number="5">flights_dt &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb234-6" data-line-number="6"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(dep_time), <span class="op">!</span><span class="kw">is.na</span>(arr_time)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb234-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb234-8" data-line-number="8">    <span class="dt">dep_time =</span> <span class="kw">make_datetime_100</span>(year, month, day, dep_time),</a>
<a class="sourceLine" id="cb234-9" data-line-number="9">    <span class="dt">arr_time =</span> <span class="kw">make_datetime_100</span>(year, month, day, arr_time),</a>
<a class="sourceLine" id="cb234-10" data-line-number="10">    <span class="dt">sched_dep_time =</span> <span class="kw">make_datetime_100</span>(year, month, day, sched_dep_time),</a>
<a class="sourceLine" id="cb234-11" data-line-number="11">    <span class="dt">sched_arr_time =</span> <span class="kw">make_datetime_100</span>(year, month, day, sched_arr_time)</a>
<a class="sourceLine" id="cb234-12" data-line-number="12">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb234-13" data-line-number="13"><span class="st">  </span><span class="kw">select</span>(origin, dest, <span class="kw">ends_with</span>(<span class="st">&quot;delay&quot;</span>), <span class="kw">ends_with</span>(<span class="st">&quot;time&quot;</span>))</a>
<a class="sourceLine" id="cb234-14" data-line-number="14"></a>
<a class="sourceLine" id="cb234-15" data-line-number="15">flights_dt</a>
<a class="sourceLine" id="cb234-16" data-line-number="16"><span class="co">#&gt; # A tibble: 328,063 x 9</span></a>
<a class="sourceLine" id="cb234-17" data-line-number="17"><span class="co">#&gt;   origin dest  dep_delay arr_delay dep_time            sched_dep_time     </span></a>
<a class="sourceLine" id="cb234-18" data-line-number="18"><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;             </span></a>
<a class="sourceLine" id="cb234-19" data-line-number="19"><span class="co">#&gt; 1 EWR    IAH           2        11 2013-01-01 05:17:00 2013-01-01 05:15:00</span></a>
<a class="sourceLine" id="cb234-20" data-line-number="20"><span class="co">#&gt; 2 LGA    IAH           4        20 2013-01-01 05:33:00 2013-01-01 05:29:00</span></a>
<a class="sourceLine" id="cb234-21" data-line-number="21"><span class="co">#&gt; 3 JFK    MIA           2        33 2013-01-01 05:42:00 2013-01-01 05:40:00</span></a>
<a class="sourceLine" id="cb234-22" data-line-number="22"><span class="co">#&gt; 4 JFK    BQN          -1       -18 2013-01-01 05:44:00 2013-01-01 05:45:00</span></a>
<a class="sourceLine" id="cb234-23" data-line-number="23"><span class="co">#&gt; 5 LGA    ATL          -6       -25 2013-01-01 05:54:00 2013-01-01 06:00:00</span></a>
<a class="sourceLine" id="cb234-24" data-line-number="24"><span class="co">#&gt; 6 EWR    ORD          -4        12 2013-01-01 05:54:00 2013-01-01 05:58:00</span></a>
<a class="sourceLine" id="cb234-25" data-line-number="25"><span class="co">#&gt; # … with 328,057 more rows, and 3 more variables: arr_time &lt;dttm&gt;,</span></a>
<a class="sourceLine" id="cb234-26" data-line-number="26"><span class="co">#&gt; #   sched_arr_time &lt;dttm&gt;, air_time &lt;dbl&gt;</span></a></code></pre></div>
<p>이 데이터로 한 해에 걸친 출발 시간의 분포를 시각화할 수 있다.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb235-2" data-line-number="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(dep_time)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb235-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">86400</span>) <span class="co"># 86400 seconds = 1 day</span></a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>하루 내에서의 분포로 보려면</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb236-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(dep_time <span class="op">&lt;</span><span class="st"> </span><span class="kw">ymd</span>(<span class="dv">20130102</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb236-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(dep_time)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb236-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">600</span>) <span class="co"># 600 s = 10 minutes</span></a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>수치형 맥락에서 데이트-타임형을 사용할 경우(히스토그램에서와 같이) 1은 1초를 의미하고, 따라서 86400 빈너비(binwidth)는 하루를 의미한다는 것을 주목하라. 데이트형에서는 1은 1일을 의미한다.</p>
</div>
<div id="기타-유형에서-생성" class="section level3">
<h3><span class="header-section-number">8.2.3</span> 기타 유형에서 생성</h3>
<p>데이트-타임형과 데이트형 사이를 상호 전환하고 싶을 때도 있을 것이다. <code>as_datetime()</code> 과 <code>as_date()</code> 가 바로 이를 수행한다.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb237-1" data-line-number="1"><span class="kw">as_datetime</span>(<span class="kw">today</span>())</a>
<a class="sourceLine" id="cb237-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2020-09-02 UTC&quot;</span></a>
<a class="sourceLine" id="cb237-3" data-line-number="3"><span class="kw">as_date</span>(<span class="kw">now</span>())</a>
<a class="sourceLine" id="cb237-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2020-09-02&quot;</span></a></code></pre></div>
<p>때로 날짜/시간을 ‘유닉스 신기원(Unix Epoch)’인 1970-01-01에서 수치형 오프셋으로 가지고 있을 수 있다. 오프셋이 초 단위인 경우엔 <code>as_datetime()</code> , 일 단위인 경우엔 <code>as_date()</code> 을 사용한다.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="kw">as_datetime</span>(<span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb238-2" data-line-number="2"><span class="co">#&gt; [1] &quot;1970-01-01 10:00:00 UTC&quot;</span></a>
<a class="sourceLine" id="cb238-3" data-line-number="3"><span class="kw">as_date</span>(<span class="dv">365</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb238-4" data-line-number="4"><span class="co">#&gt; [1] &quot;1980-01-01&quot;</span></a></code></pre></div>
</div>
<div id="연습문제" class="section level3">
<h3><span class="header-section-number">8.2.4</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>유효하지 않은 날짜를 포함한 문자열을 파싱하면 어떻게 되는가?</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb239-1" data-line-number="1"><span class="kw">ymd</span>(<span class="kw">c</span>(<span class="st">&quot;2010-10-10&quot;</span>, <span class="st">&quot;bananas&quot;</span>))</a></code></pre></div></li>
<li><p><code>today()</code> 의 <code>tzone</code> 인수의 역할은 무엇인가? 이 인수는 왜 중요한가?</p></li>
<li><p>적절한 <strong>lubridate</strong> 함수를 이용하여, 다음 날짜를 각각 파싱하라.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1">d1 &lt;-<span class="st"> &quot;January 1, 2010&quot;</span></a>
<a class="sourceLine" id="cb240-2" data-line-number="2">d2 &lt;-<span class="st"> &quot;2015-Mar-07&quot;</span></a>
<a class="sourceLine" id="cb240-3" data-line-number="3">d3 &lt;-<span class="st"> &quot;06-Jun-2017&quot;</span></a>
<a class="sourceLine" id="cb240-4" data-line-number="4">d4 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;August 19 (2015)&quot;</span>, <span class="st">&quot;July 1 (2015)&quot;</span>)</a>
<a class="sourceLine" id="cb240-5" data-line-number="5">d5 &lt;-<span class="st"> &quot;12/30/14&quot;</span> <span class="co"># Dec 30, 2014</span></a></code></pre></div></li>
</ol>
</div>
</div>
<div id="데이트-타임형-구성요소" class="section level2">
<h2><span class="header-section-number">8.3</span> 데이트-타임형 구성요소</h2>
<p>날짜/시간 데이터를 R의 데이트-타임형 데이터 구조로 얻는 방법을 이제 알았으니 이를 이용해 할 수 있는 것을 탐색해보자. 이 절에서는 개별 구성요소를 얻고 설정하는 설정 함수(accessor function)에 초점을 맞출 것이다. 다음 절에서는 산술연산이 데이트-타임형에 어떻게 동작하는지 살펴 볼 것이다.</p>
<div id="구성요소-가져오기" class="section level3">
<h3><span class="header-section-number">8.3.1</span> 구성요소 가져오기</h3>
<p>다음 설정 함수로 데이트형의 개별 부분을 가져올 수 있다. <code>year(), month(), mday()</code> (한 달에서 일), <code>yday()</code> (한 해에서 일), <code>wday</code> (한 주 중 일), <code>hour(), minute(), second()</code> .</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb241-1" data-line-number="1">datetime &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>)</a>
<a class="sourceLine" id="cb241-2" data-line-number="2"></a>
<a class="sourceLine" id="cb241-3" data-line-number="3"><span class="kw">year</span>(datetime)</a>
<a class="sourceLine" id="cb241-4" data-line-number="4"><span class="co">#&gt; [1] 2016</span></a>
<a class="sourceLine" id="cb241-5" data-line-number="5"><span class="kw">month</span>(datetime)</a>
<a class="sourceLine" id="cb241-6" data-line-number="6"><span class="co">#&gt; [1] 7</span></a>
<a class="sourceLine" id="cb241-7" data-line-number="7"><span class="kw">mday</span>(datetime)</a>
<a class="sourceLine" id="cb241-8" data-line-number="8"><span class="co">#&gt; [1] 8</span></a>
<a class="sourceLine" id="cb241-9" data-line-number="9"></a>
<a class="sourceLine" id="cb241-10" data-line-number="10"><span class="kw">yday</span>(datetime)</a>
<a class="sourceLine" id="cb241-11" data-line-number="11"><span class="co">#&gt; [1] 190</span></a>
<a class="sourceLine" id="cb241-12" data-line-number="12"><span class="kw">wday</span>(datetime)</a>
<a class="sourceLine" id="cb241-13" data-line-number="13"><span class="co">#&gt; [1] 6</span></a></code></pre></div>
<p><code>month()</code> 와 <code>wday()</code> 에서 <code>label = TRUE</code> 를 설정하여 월이나 일의 약식 이름을 반환할 수 있다. <code>abbr = FALSE</code> 를 설정하면 이름 전체를 반환할 수 있다.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="kw">month</span>(datetime, <span class="dt">label =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb242-2" data-line-number="2"><span class="co">#&gt; [1] Jul</span></a>
<a class="sourceLine" id="cb242-3" data-line-number="3"><span class="co">#&gt; 12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec</span></a>
<a class="sourceLine" id="cb242-4" data-line-number="4"><span class="kw">wday</span>(datetime, <span class="dt">label =</span> <span class="ot">TRUE</span>, <span class="dt">abbr =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb242-5" data-line-number="5"><span class="co">#&gt; [1] Friday</span></a>
<a class="sourceLine" id="cb242-6" data-line-number="6"><span class="co">#&gt; 7 Levels: Sunday &lt; Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; ... &lt; Saturday</span></a></code></pre></div>
<p><code>wday()</code> 를 사용하여 주말보다 평일에 출발하는 항공편이 더 많다는 것을 확인할 수 있다.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb243-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">wday =</span> <span class="kw">wday</span>(dep_time, <span class="dt">label =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb243-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> wday)) <span class="op">+</span></a>
<a class="sourceLine" id="cb243-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>출발 지연시간 평균을 매 시의 각 분(0~59 분)에 대해서 살펴보면 흥미로운 패턴이 있다. 20~30분과 50~60분에 출발하는 항공편은 나머지 시간보다 훨씬 덜 지연되는 것으로 보인다.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">minute =</span> <span class="kw">minute</span>(dep_time)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(minute) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb244-5" data-line-number="5">    <span class="dt">avg_delay =</span> <span class="kw">mean</span>(arr_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb244-6" data-line-number="6">    <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-7" data-line-number="7"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(minute, avg_delay)) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-8" data-line-number="8"><span class="st">    </span><span class="kw">geom_line</span>()</a>
<a class="sourceLine" id="cb244-9" data-line-number="9"><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>흥미롭게도 예정된 출발시간으로 보면 이러한 강한 패턴을 볼 수 없다.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" data-line-number="1">sched_dep &lt;-<span class="st"> </span>flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">minute =</span> <span class="kw">minute</span>(sched_dep_time)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(minute) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb245-5" data-line-number="5">    <span class="dt">avg_delay =</span> <span class="kw">mean</span>(arr_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb245-6" data-line-number="6">    <span class="dt">n =</span> <span class="kw">n</span>())</a>
<a class="sourceLine" id="cb245-7" data-line-number="7"><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></a>
<a class="sourceLine" id="cb245-8" data-line-number="8"></a>
<a class="sourceLine" id="cb245-9" data-line-number="9"><span class="kw">ggplot</span>(sched_dep, <span class="kw">aes</span>(minute, avg_delay)) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_line</span>()</a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>그러면 왜 실제 출발시간에는 그 패턴이 있는가? 사람에 의해 수집된 많은 데이터가 그런 것처럼, ’좋은‘ 출발시간에 떠나는 항공편 방향으로 편향(bias)이 강하게 존재한다. 인간의 판단이 관여된 데이터로 작업할 때마다 이런 종류의 패턴을 항상 유의해야 한다.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="kw">ggplot</span>(sched_dep, <span class="kw">aes</span>(minute, n)) <span class="op">+</span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>()</a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="반올림" class="section level3">
<h3><span class="header-section-number">8.3.2</span> 반올림</h3>
<p>개별 구성요소를 플롯하는 또 다른 방법은 <code>floor_date()</code> , <code>round_date()</code> , <code>ceiling_date()</code> 로 인근 시간 단위로 날짜를 반올림하는 것이다. 각 <code>ceiling_date()</code> 함수의 입력값으로는, 조정할 날짜 벡터와, 내림(floor), 올림(ceiling), 혹은 반올림(round)해서 맞출 단위의 이름이다. 예를 들어 주당 항공편 수를 플롯할 수 있다.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb247-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(<span class="dt">week =</span> <span class="kw">floor_date</span>(dep_time, <span class="st">&quot;week&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb247-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(week, n)) <span class="op">+</span></a>
<a class="sourceLine" id="cb247-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_line</span>()</a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-21-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>날짜 반올림 전후 차이를 계산하는 것은 특히 유용할 수 있다.</p>
</div>
<div id="구성요소-설정" class="section level3">
<h3><span class="header-section-number">8.3.3</span> 구성요소 설정</h3>
<p>설정 함수를 사용하여 날짜/시간의 구성 요소를 설정할 수 있다.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1">(datetime &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2016-07-08 12:34:56&quot;</span>))</a>
<a class="sourceLine" id="cb248-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2016-07-08 12:34:56 UTC&quot;</span></a>
<a class="sourceLine" id="cb248-3" data-line-number="3"></a>
<a class="sourceLine" id="cb248-4" data-line-number="4"><span class="kw">year</span>(datetime) &lt;-<span class="st"> </span><span class="dv">2020</span></a>
<a class="sourceLine" id="cb248-5" data-line-number="5">datetime</a>
<a class="sourceLine" id="cb248-6" data-line-number="6"><span class="co">#&gt; [1] &quot;2020-07-08 12:34:56 UTC&quot;</span></a>
<a class="sourceLine" id="cb248-7" data-line-number="7"><span class="kw">month</span>(datetime) &lt;-<span class="st"> </span><span class="dv">01</span></a>
<a class="sourceLine" id="cb248-8" data-line-number="8">datetime</a>
<a class="sourceLine" id="cb248-9" data-line-number="9"><span class="co">#&gt; [1] &quot;2020-01-08 12:34:56 UTC&quot;</span></a>
<a class="sourceLine" id="cb248-10" data-line-number="10"><span class="kw">hour</span>(datetime) &lt;-<span class="st"> </span><span class="kw">hour</span>(datetime) <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb248-11" data-line-number="11">datetime</a>
<a class="sourceLine" id="cb248-12" data-line-number="12"><span class="co">#&gt; [1] &quot;2020-01-08 13:34:56 UTC&quot;</span></a></code></pre></div>
<p>수정하는 대신, <code>update()</code> 로 새로운 데이트-타임형을 생성할 수도 있다. 이 방법을 사용하여 여러 개의 값을 한 번에 설정할 수도 있다.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1"><span class="kw">update</span>(datetime, <span class="dt">year =</span> <span class="dv">2020</span>, <span class="dt">month =</span> <span class="dv">2</span>, <span class="dt">mday =</span> <span class="dv">2</span>, <span class="dt">hour =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb249-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2020-02-02 02:34:56 UTC&quot;</span></a></code></pre></div>
<p>값이 너무 큰 경우에는 이월된다.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="kw">ymd</span>(<span class="st">&quot;2015-02-01&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2"><span class="st">  </span><span class="kw">update</span>(<span class="dt">mday =</span> <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb250-3" data-line-number="3"><span class="co">#&gt; [1] &quot;2015-03-02&quot;</span></a>
<a class="sourceLine" id="cb250-4" data-line-number="4"><span class="kw">ymd</span>(<span class="st">&quot;2015-02-01&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb250-5" data-line-number="5"><span class="st">  </span><span class="kw">update</span>(<span class="dt">hour =</span> <span class="dv">400</span>)</a>
<a class="sourceLine" id="cb250-6" data-line-number="6"><span class="co">#&gt; [1] &quot;2015-02-17 16:00:00 UTC&quot;</span></a></code></pre></div>
<p><code>update()</code> 를 사용하여 관심있는 해의 하루 동안 항공편의 분포를 볼 수 있다.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb251-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dep_hour =</span> <span class="kw">update</span>(dep_time, <span class="dt">yday =</span> <span class="dv">1</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb251-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(dep_hour)) <span class="op">+</span></a>
<a class="sourceLine" id="cb251-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="datetimes_files/figure-html/unnamed-chunk-25-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>날짜의 상위 구성 요소를 상수로 설정하면, 하위 구성 요소의 패턴을 탐색할 수 있어서 매우 유용한 방법이다</p>
</div>
<div id="연습문제-1" class="section level3">
<h3><span class="header-section-number">8.3.4</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>하루 동안 비행시간의 분포는 한 해 동안 어떻게 변화했는가?</p></li>
<li><p><code>dep_time, sched_dep_time, dep_delay</code> 를 비교하라. 이들은 일관성이 있는가? 무엇을 발견했는지 설명하라.</p></li>
<li><p>출발, 도착 사이의 시간과 <code>air_time</code> 을 비교하라. 무엇을 발견했는지 설명하라. (힌트: 공항의 위치를 살펴보라.)</p></li>
<li><p>하루 동안 평균 지연시간은 어떻게 변화하는가? <code>dep_time</code> 또는 <code>sched_dep_time</code> 를 사용해야 하는가? 이유는 무엇인가?</p></li>
<li><p>지연 가능성을 최소화하려면 한 주 중 어느 요일에 떠나야 하는가?</p></li>
<li><p>왜 <code>diamonds$carat</code> 과 <code>flights$sched_dep_time</code> 분포가 비슷한가?</p></li>
<li><p>20-30분과 50-60분에서 출발이 빠른 것은 일찍 출발하도록 계획된 항공편 때문이라는 우리의 가설을 확인하라. 힌트: 항공편이 지연되었는지 여부를 알려주는 이진 변수를 생성하라.</p></li>
</ol>
</div>
</div>
<div id="시간-범위" class="section level2">
<h2><span class="header-section-number">8.4</span> 시간 범위</h2>
<p>다음으로 뺄셈, 덧셈, 나눗셈 같은 산술연산이 데이트형에 어떻게 동작하는지 알아보자. 여기에서는 시간 범위(time span)를 대표하는 중요한 클래스 세 가지를 배우게 된다.</p>
<ul>
<li><strong>듀레이션형</strong> (duration): 정확한 초를 나타냄.</li>
<li><strong>피리어드형</strong> (period): 주와 월과 같은 인간의 단위를 나타냄.</li>
<li><strong>인터벌형</strong> (interval): 시점과 종점을 나타냄.</li>
</ul>
<div id="듀레이션형" class="section level3">
<h3><span class="header-section-number">8.4.1</span> 듀레이션형</h3>
<p>R에서 두 데이트형 뺄셈을 하면 difftime형 객체가 생긴다.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1"><span class="co"># 해들리의 나이는?</span></a>
<a class="sourceLine" id="cb252-2" data-line-number="2">h_age &lt;-<span class="st"> </span><span class="kw">today</span>() <span class="op">-</span><span class="st"> </span><span class="kw">ymd</span>(<span class="dv">19791014</span>)</a>
<a class="sourceLine" id="cb252-3" data-line-number="3">h_age</a>
<a class="sourceLine" id="cb252-4" data-line-number="4"><span class="co">#&gt; Time difference of 14934 days</span></a></code></pre></div>
<p>difftime 클래스 객체는 초, 분, 시, 일 또는 주의 시간 범위를 기록한다. 이러한 애매함 때문에 difftime형으로 작업하는 것이 약간 고통스러울 수 있다. 따라서 <strong>lubridate</strong> 는 항상 초를 사용하는 대안 클래스, <strong>듀레이션형</strong> 을 제공한다.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" data-line-number="1"><span class="kw">as.duration</span>(h_age)</a>
<a class="sourceLine" id="cb253-2" data-line-number="2"><span class="co">#&gt; [1] &quot;1290297600s (~40.89 years)&quot;</span></a></code></pre></div>
<p>듀레이션형에는 편리한 생성자가 많다.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="kw">dseconds</span>(<span class="dv">15</span>)</a>
<a class="sourceLine" id="cb254-2" data-line-number="2"><span class="co">#&gt; [1] &quot;15s&quot;</span></a>
<a class="sourceLine" id="cb254-3" data-line-number="3"><span class="kw">dminutes</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb254-4" data-line-number="4"><span class="co">#&gt; [1] &quot;600s (~10 minutes)&quot;</span></a>
<a class="sourceLine" id="cb254-5" data-line-number="5"><span class="kw">dhours</span>(<span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">24</span>))</a>
<a class="sourceLine" id="cb254-6" data-line-number="6"><span class="co">#&gt; [1] &quot;43200s (~12 hours)&quot; &quot;86400s (~1 days)&quot;</span></a>
<a class="sourceLine" id="cb254-7" data-line-number="7"><span class="kw">ddays</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb254-8" data-line-number="8"><span class="co">#&gt; [1] &quot;0s&quot;                &quot;86400s (~1 days)&quot;  &quot;172800s (~2 days)&quot;</span></a>
<a class="sourceLine" id="cb254-9" data-line-number="9"><span class="co">#&gt; [4] &quot;259200s (~3 days)&quot; &quot;345600s (~4 days)&quot; &quot;432000s (~5 days)&quot;</span></a>
<a class="sourceLine" id="cb254-10" data-line-number="10"><span class="kw">dweeks</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb254-11" data-line-number="11"><span class="co">#&gt; [1] &quot;1814400s (~3 weeks)&quot;</span></a>
<a class="sourceLine" id="cb254-12" data-line-number="12"><span class="kw">dyears</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb254-13" data-line-number="13"><span class="co">#&gt; [1] &quot;31557600s (~1 years)&quot;</span></a></code></pre></div>
<p>듀레이션형은 항상 초 단위로 시간 범위를 기록한다. 이보다 큰 단위를 생성하려면 분, 시, 일, 주, 연을 표준비율로 변환해야 한다(분당 60초, 시당 60분, 일당 24시, 주당 7일, 연당 365일).</p>
<p>듀레이션형을 더하거나 곱할 수 있다.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" data-line-number="1"><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">dyears</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb255-2" data-line-number="2"><span class="co">#&gt; [1] &quot;63115200s (~2 years)&quot;</span></a>
<a class="sourceLine" id="cb255-3" data-line-number="3"><span class="kw">dyears</span>(<span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">dweeks</span>(<span class="dv">12</span>) <span class="op">+</span><span class="st"> </span><span class="kw">dhours</span>(<span class="dv">15</span>)</a>
<a class="sourceLine" id="cb255-4" data-line-number="4"><span class="co">#&gt; [1] &quot;38869200s (~1.23 years)&quot;</span></a></code></pre></div>
<p>일(day)에서 듀레이션형을 더하고 뺄 수 있다.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1">tomorrow &lt;-<span class="st"> </span><span class="kw">today</span>() <span class="op">+</span><span class="st"> </span><span class="kw">ddays</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb256-2" data-line-number="2">last_year &lt;-<span class="st"> </span><span class="kw">today</span>() <span class="op">-</span><span class="st"> </span><span class="kw">dyears</span>(<span class="dv">1</span>)</a></code></pre></div>
<p>그러나 듀레이션형은 정확한 초 개수로 표시하므로 때로는 예상치 못한 결과를 얻을 수도 있다.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb257-1" data-line-number="1">one_pm &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2016-03-12 13:00:00&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;America/New_York&quot;</span>)</a>
<a class="sourceLine" id="cb257-2" data-line-number="2"></a>
<a class="sourceLine" id="cb257-3" data-line-number="3">one_pm</a>
<a class="sourceLine" id="cb257-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2016-03-12 13:00:00 EST&quot;</span></a>
<a class="sourceLine" id="cb257-5" data-line-number="5">one_pm <span class="op">+</span><span class="st"> </span><span class="kw">ddays</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb257-6" data-line-number="6"><span class="co">#&gt; [1] &quot;2016-03-13 14:00:00 EDT&quot;</span></a></code></pre></div>
<p>3월 12일 오후 1시의 1일 후가 왜 3월 13일 오후 2시인가? 날짜를 주의 깊게 보면 시간대가 바뀌어 있다. 일광절약제 때문에 3월 12일에는 23시만 있다. 따라서 하루에 해당하는 초를 더하면 다른 시간을 갖게 된다.</p>
</div>
<div id="피리어드형" class="section level3">
<h3><span class="header-section-number">8.4.2</span> 피리어드형</h3>
<p>이 문제를 해결하기 위해 <strong>lubridate</strong> 는 **피리어드형</이태틱>을 제공한다. 피리어드형은 시간 범위이지만 정해진 초 길이가 없다. 대신 일과 월과 같은 ’사람의‘ 시간으로 동작한다. 따라서 작동 방식이 보다 직관적이다.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1">one_pm</a>
<a class="sourceLine" id="cb258-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2016-03-12 13:00:00 EST&quot;</span></a>
<a class="sourceLine" id="cb258-3" data-line-number="3">one_pm <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb258-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2016-03-13 13:00:00 EDT&quot;</span></a></code></pre></div>
<p>듀레이션형과 마찬가지로 피리어드형은 다수의 생성 함수로 편리하게 생성할 수 있다.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb259-1" data-line-number="1"><span class="kw">seconds</span>(<span class="dv">15</span>)</a>
<a class="sourceLine" id="cb259-2" data-line-number="2"><span class="co">#&gt; [1] &quot;15S&quot;</span></a>
<a class="sourceLine" id="cb259-3" data-line-number="3"><span class="kw">minutes</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb259-4" data-line-number="4"><span class="co">#&gt; [1] &quot;10M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-5" data-line-number="5"><span class="kw">hours</span>(<span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">24</span>))</a>
<a class="sourceLine" id="cb259-6" data-line-number="6"><span class="co">#&gt; [1] &quot;12H 0M 0S&quot; &quot;24H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-7" data-line-number="7"><span class="kw">days</span>(<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb259-8" data-line-number="8"><span class="co">#&gt; [1] &quot;7d 0H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-9" data-line-number="9"><span class="kw">months</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb259-10" data-line-number="10"><span class="co">#&gt; [1] &quot;1m 0d 0H 0M 0S&quot; &quot;2m 0d 0H 0M 0S&quot; &quot;3m 0d 0H 0M 0S&quot; &quot;4m 0d 0H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-11" data-line-number="11"><span class="co">#&gt; [5] &quot;5m 0d 0H 0M 0S&quot; &quot;6m 0d 0H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-12" data-line-number="12"><span class="kw">weeks</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb259-13" data-line-number="13"><span class="co">#&gt; [1] &quot;21d 0H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb259-14" data-line-number="14"><span class="kw">years</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb259-15" data-line-number="15"><span class="co">#&gt; [1] &quot;1y 0m 0d 0H 0M 0S&quot;</span></a></code></pre></div>
<p>피리어드형을 더하거나 곱할 수 있다.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1"><span class="dv">10</span> <span class="op">*</span><span class="st"> </span>(<span class="kw">months</span>(<span class="dv">6</span>) <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb260-2" data-line-number="2"><span class="co">#&gt; [1] &quot;60m 10d 0H 0M 0S&quot;</span></a>
<a class="sourceLine" id="cb260-3" data-line-number="3"><span class="kw">days</span>(<span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw">hours</span>(<span class="dv">25</span>) <span class="op">+</span><span class="st"> </span><span class="kw">minutes</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb260-4" data-line-number="4"><span class="co">#&gt; [1] &quot;50d 25H 2M 0S&quot;</span></a></code></pre></div>
<p>그리고 물론, 데이트형에 더해진다. 듀레이션형과 달리 피리어드형은 의도한 대로 동작한다.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" data-line-number="1"><span class="co"># 윤년</span></a>
<a class="sourceLine" id="cb261-2" data-line-number="2"><span class="kw">ymd</span>(<span class="st">&quot;2016-01-01&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">dyears</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb261-3" data-line-number="3"><span class="co">#&gt; [1] &quot;2016-12-31 06:00:00 UTC&quot;</span></a>
<a class="sourceLine" id="cb261-4" data-line-number="4"><span class="kw">ymd</span>(<span class="st">&quot;2016-01-01&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">years</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb261-5" data-line-number="5"><span class="co">#&gt; [1] &quot;2017-01-01&quot;</span></a>
<a class="sourceLine" id="cb261-6" data-line-number="6"></a>
<a class="sourceLine" id="cb261-7" data-line-number="7"><span class="co"># 일광절약제</span></a>
<a class="sourceLine" id="cb261-8" data-line-number="8">one_pm <span class="op">+</span><span class="st"> </span><span class="kw">ddays</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb261-9" data-line-number="9"><span class="co">#&gt; [1] &quot;2016-03-13 14:00:00 EDT&quot;</span></a>
<a class="sourceLine" id="cb261-10" data-line-number="10">one_pm <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb261-11" data-line-number="11"><span class="co">#&gt; [1] &quot;2016-03-13 13:00:00 EDT&quot;</span></a></code></pre></div>
<p>이제 피리어드형을 사용해서 비행 날짜에 관련된 문제를 해결해보자. 일부 항공편은 뉴욕시에서 출발하기 전에 목적지에 도착한 것으로 보여진다.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb262-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(arr_time <span class="op">&lt;</span><span class="st"> </span>dep_time) </a>
<a class="sourceLine" id="cb262-3" data-line-number="3"><span class="co">#&gt; # A tibble: 10,633 x 9</span></a>
<a class="sourceLine" id="cb262-4" data-line-number="4"><span class="co">#&gt;   origin dest  dep_delay arr_delay dep_time            sched_dep_time     </span></a>
<a class="sourceLine" id="cb262-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;             </span></a>
<a class="sourceLine" id="cb262-6" data-line-number="6"><span class="co">#&gt; 1 EWR    BQN           9        -4 2013-01-01 19:29:00 2013-01-01 19:20:00</span></a>
<a class="sourceLine" id="cb262-7" data-line-number="7"><span class="co">#&gt; 2 JFK    DFW          59        NA 2013-01-01 19:39:00 2013-01-01 18:40:00</span></a>
<a class="sourceLine" id="cb262-8" data-line-number="8"><span class="co">#&gt; 3 EWR    TPA          -2         9 2013-01-01 20:58:00 2013-01-01 21:00:00</span></a>
<a class="sourceLine" id="cb262-9" data-line-number="9"><span class="co">#&gt; 4 EWR    SJU          -6       -12 2013-01-01 21:02:00 2013-01-01 21:08:00</span></a>
<a class="sourceLine" id="cb262-10" data-line-number="10"><span class="co">#&gt; 5 EWR    SFO          11       -14 2013-01-01 21:08:00 2013-01-01 20:57:00</span></a>
<a class="sourceLine" id="cb262-11" data-line-number="11"><span class="co">#&gt; 6 LGA    FLL         -10        -2 2013-01-01 21:20:00 2013-01-01 21:30:00</span></a>
<a class="sourceLine" id="cb262-12" data-line-number="12"><span class="co">#&gt; # … with 10,627 more rows, and 3 more variables: arr_time &lt;dttm&gt;,</span></a>
<a class="sourceLine" id="cb262-13" data-line-number="13"><span class="co">#&gt; #   sched_arr_time &lt;dttm&gt;, air_time &lt;dbl&gt;</span></a></code></pre></div>
<p>이들은 심야 항공편이다. 우리는 출발과 도착시간 모두에 같은 날짜 정보를 사용했었지만, 이 항공편들은 도착시간이 다음날이다. 심야 항공편의 도착시간에 <code>days(1)</code> 을 더해서 문제를 해결할 수 있다.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" data-line-number="1">flights_dt &lt;-<span class="st"> </span>flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb263-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb263-3" data-line-number="3">    <span class="dt">overnight =</span> arr_time <span class="op">&lt;</span><span class="st"> </span>dep_time,</a>
<a class="sourceLine" id="cb263-4" data-line-number="4">    <span class="dt">arr_time =</span> arr_time <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(overnight <span class="op">*</span><span class="st"> </span><span class="dv">1</span>),</a>
<a class="sourceLine" id="cb263-5" data-line-number="5">    <span class="dt">sched_arr_time =</span> sched_arr_time <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(overnight <span class="op">*</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb263-6" data-line-number="6">  )</a></code></pre></div>
<p>이제 모든 항공편이 물리학의 법칙을 벗어나지 않는다.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1">flights_dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb264-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(overnight, arr_time <span class="op">&lt;</span><span class="st"> </span>dep_time) </a>
<a class="sourceLine" id="cb264-3" data-line-number="3"><span class="co">#&gt; # A tibble: 0 x 10</span></a>
<a class="sourceLine" id="cb264-4" data-line-number="4"><span class="co">#&gt; # … with 10 variables: origin &lt;chr&gt;, dest &lt;chr&gt;, dep_delay &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb264-5" data-line-number="5"><span class="co">#&gt; #   arr_delay &lt;dbl&gt;, dep_time &lt;dttm&gt;, sched_dep_time &lt;dttm&gt;, arr_time &lt;dttm&gt;,</span></a>
<a class="sourceLine" id="cb264-6" data-line-number="6"><span class="co">#&gt; #   sched_arr_time &lt;dttm&gt;, air_time &lt;dbl&gt;, overnight &lt;lgl&gt;</span></a></code></pre></div>
</div>
<div id="인터벌형" class="section level3">
<h3><span class="header-section-number">8.4.3</span> 인터벌형</h3>
<p><code>dyears(1) / ddays(365)</code> 가 반환해야 하는 값은 명백하다. 바로 1인데 왜냐하면, 듀레이션형은 항상 초 단위로 표현하며 듀레이션형 1년은 365일에 해당하는 초로 정의되기 때문이다.</p>
<p><code>years(1) / days(1)</code> 이 반환해야 하는 값은 무엇인가? 음… 2015년이라면 365를 반환해야하지만 2016년이면 366을 반환해야 한다! <strong>lubridate</strong> 가 하나의 명확한 답을 주기에 충분한 정보가 없다. 대신 경고와 함께 예측값을 준다.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" data-line-number="1"><span class="kw">years</span>(<span class="dv">1</span>) <span class="op">/</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb265-2" data-line-number="2"><span class="co">#&gt; [1] 365</span></a></code></pre></div>
<p>더 정확한 값을 원한다면 <strong>인터벌형</strong> 을 사용해야 한다. 인터벌형은 시작점이 있는 듀레이션형이어서 기간이 정확히 얼마인지 확인할 수 있도록 만든다.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1">next_year &lt;-<span class="st"> </span><span class="kw">today</span>() <span class="op">+</span><span class="st"> </span><span class="kw">years</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb266-2" data-line-number="2">(<span class="kw">today</span>() <span class="op">%--%</span><span class="st"> </span>next_year) <span class="op">/</span><span class="st"> </span><span class="kw">ddays</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb266-3" data-line-number="3"><span class="co">#&gt; [1] 365</span></a></code></pre></div>
<p>한 인터벌형이 피리어드형 얼마에 해당하는지 확인하려면 정수 나누기를 사용해야 한다.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" data-line-number="1">(<span class="kw">today</span>() <span class="op">%--%</span><span class="st"> </span>next_year) <span class="op">%/%</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb267-2" data-line-number="2"><span class="co">#&gt; [1] 365</span></a></code></pre></div>
</div>
<div id="요약" class="section level3">
<h3><span class="header-section-number">8.4.4</span> 요약</h3>
<p>듀레이션형, 피리어드형, 인터벌형 중에서 선택은 어떻게 해야 하는가? 언제나 그렇듯이 주어진 문제를 해결하는 가장 간단한 데이터 구조를 선택하라. 단지 물리적인 시간만 고려하는 경우에는 듀레이션형을 사용하라. 사람의 시간을 추가해야 하는 경우에는 피리어드형을 사용하라. 사람이 사용하는 시간단위로 파악해야 하는 경우에는 인터벌형을 사용하라.</p>
<p>Figure <a href="dates-and-times.html#fig:dt-algebra">8.1</a> 은 다른 데이터 유형 사이에 허용된 산술연산을 요약한 것이다.</p>
<div class="figure" style="text-align: center"><span id="fig:dt-algebra"></span>
<img src="diagrams/datetimes-arithmetic.png" alt="The allowed arithmetic operations between pairs of date/time classes." width="70%" />
<p class="caption">
Figure 8.1: The allowed arithmetic operations between pairs of date/time classes.
</p>
</div>
</div>
<div id="연습문제-2" class="section level3">
<h3><span class="header-section-number">8.4.5</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p>왜 <code>months()</code> 는 있고 <code>dmonths()</code> 는 없는가?</p></li>
<li><p>R을 막 배우기 시작한 사람에게 <code>days(overnight * 1)</code> 을 설명하라. 어떻게 동작하는가?</p></li>
<li><p>2015년 매월 첫 날짜를 주는 데이트형 벡터를 생성하라. 현재 연도의 매월 첫 날짜를 주는 데이트형 벡터를 생성하라.</p></li>
<li><p>여러분의 생일이 (데이트형으로) 주어질 때, 나이를 연으로 반환하는 함수를 작성하라.</p></li>
<li><p>왜 다음은 작동하지 않는가? <code>(today() %--% (today() + years(1)) / months(1)</code></p></li>
</ol>
</div>
</div>
<div id="time-zones" class="section level2">
<h2><span class="header-section-number">8.5</span> 시간대</h2>
<p>시간대는 엄청나게 복잡한 주제인데, 지정학적 요소들과 상호작용이 있기 때문이다. 다행히 데이터 분석을 할 때 시간대가 항상 중요하지는 않기 때문에 세부사항을 모두 파고들지 않아도 되지만, 정면으로 맞서야 하는 문제가 몇 개 있다.</p>
<p>첫 번째 문제는 일상적인 시간대 이름은 모호하다는 것이다. 예를 들어 여러분이 미국인이라면 아마 EST, 즉 동부 표준시가 익숙할 것이다. 그러나 호주와 캐나다에도 EST가 있다! 혼란을 방지하기 위해, R은 국제 표준 IANA 시간대를 사용한다. 이는 일반적으로 ’&lt;대륙&gt;/&lt;도시&gt;’ 형태로 ’/’를 쓰는 일관된 명명 체계를 사용한다 (모든 국가가 대륙에 위치하는 것은 아니기 때문에 몇 가지 예외도 있다). 예를 들면 ’America/New_York‘, ’Europe/Paris‘와 ’Pacific/Auckland‘ 등이 있다.</p>
<p>시간대가 국가, 혹은 국가 내 지역과 관련되었다고 일반적으로 생각하면 왜 시간대가 도시를 사용하는지 궁금할 것이다. 이는 IANA 데이터베이스가 시간대 규칙을 수십 년 분량이나 기록해야 하기 때문이다. 수십 년 사이에 국가 이름은 꽤 자주 변경(또는 분리)되지만, 도시의 이름은 유지되는 편이다. 또 다른 문제는 이름은 현재의 행동뿐만 아니라 전체 역사를 반영해야 한다는 것이다. 예를 들어 ’America/New_York‘과 ’America/Detroit‘ 시간대가 있다. 두 도시는 현재 모두 동부 표준시간을 사용하지만 (디트로이트가 위치한) 미시간주는 1969-1972’에, 일광절약제를 따르지 않았기 때문에 이름이 따로 필요한 것이다. 이러한 이야기들이 있는 원시 시간대 데이터베이스(<a href="http://www.iana.org/time-zones" class="uri">http://www.iana.org/time-zones</a>)를 읽어볼 만하다!</p>
<p><code>Sys.timezone()</code> 를 사용해서 현재 R이 인식하고 있는 시간대를 알아볼 수 있다. (우리나라 시간대는 “Asia/Seoul”이다.)</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="kw">Sys.timezone</span>()</a>
<a class="sourceLine" id="cb268-2" data-line-number="2"><span class="co">#&gt; [1] &quot;Asia/Seoul&quot;</span></a></code></pre></div>
<p>(R이 모르는 경우 <code>NA</code> 가 나올 것이다.)</p>
<p>그리고 <code>OlsonNames()</code> 를 사용해서 모든 시간대 이름의 전체 목록을 볼 수 있다.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb269-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">OlsonNames</span>())</a>
<a class="sourceLine" id="cb269-2" data-line-number="2"><span class="co">#&gt; [1] 594</span></a>
<a class="sourceLine" id="cb269-3" data-line-number="3"><span class="kw">head</span>(<span class="kw">OlsonNames</span>())</a>
<a class="sourceLine" id="cb269-4" data-line-number="4"><span class="co">#&gt; [1] &quot;Africa/Abidjan&quot;     &quot;Africa/Accra&quot;       &quot;Africa/Addis_Ababa&quot;</span></a>
<a class="sourceLine" id="cb269-5" data-line-number="5"><span class="co">#&gt; [4] &quot;Africa/Algiers&quot;     &quot;Africa/Asmara&quot;      &quot;Africa/Asmera&quot;</span></a></code></pre></div>
<p>R에 있어서, 시간대는 출력 제어만 하는 데이트-타임형의 한 속성이다. 예를 들어 이 세 가지 객체는 같은 시점을 나타낸다.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1">(x1 &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2015-06-01 12:00:00&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;America/New_York&quot;</span>))</a>
<a class="sourceLine" id="cb270-2" data-line-number="2"><span class="co">#&gt; [1] &quot;2015-06-01 12:00:00 EDT&quot;</span></a>
<a class="sourceLine" id="cb270-3" data-line-number="3">(x2 &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2015-06-01 18:00:00&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;Europe/Copenhagen&quot;</span>))</a>
<a class="sourceLine" id="cb270-4" data-line-number="4"><span class="co">#&gt; [1] &quot;2015-06-01 18:00:00 CEST&quot;</span></a>
<a class="sourceLine" id="cb270-5" data-line-number="5">(x3 &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(<span class="st">&quot;2015-06-02 04:00:00&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;Pacific/Auckland&quot;</span>))</a>
<a class="sourceLine" id="cb270-6" data-line-number="6"><span class="co">#&gt; [1] &quot;2015-06-02 04:00:00 NZST&quot;</span></a></code></pre></div>
<p>이들이 같은 시점이라는 것을 뺄셈을 사용하여 확인할 수 있다.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb271-1" data-line-number="1">x1 <span class="op">-</span><span class="st"> </span>x2</a>
<a class="sourceLine" id="cb271-2" data-line-number="2"><span class="co">#&gt; Time difference of 0 secs</span></a>
<a class="sourceLine" id="cb271-3" data-line-number="3">x1 <span class="op">-</span><span class="st"> </span>x3</a>
<a class="sourceLine" id="cb271-4" data-line-number="4"><span class="co">#&gt; Time difference of 0 secs</span></a></code></pre></div>
<p>별도 명시가 없는 한, <strong>lubridate</strong> 는 항상 UTC를 사용한다. UTC(Coordinated Universal Time)는 과학계에서 사용하는 표준 시간대이며 그 전신인 GMT(그리니치 표준시)와 거의 같다. UTC는 DST가 없는데, 이로 인해 계산에 용이한 표현 방법이 된다. <code>c()</code> 와 같이 데이트-타임형을 조합하는 연산은 종종 시간대를 제거한다. 이 경우 데이트-타임형은 현지 시간대로 표시된다.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1">x4 &lt;-<span class="st"> </span><span class="kw">c</span>(x1, x2, x3)</a>
<a class="sourceLine" id="cb272-2" data-line-number="2">x4</a>
<a class="sourceLine" id="cb272-3" data-line-number="3"><span class="co">#&gt; [1] &quot;2015-06-01 12:00:00 EDT&quot; &quot;2015-06-01 12:00:00 EDT&quot;</span></a>
<a class="sourceLine" id="cb272-4" data-line-number="4"><span class="co">#&gt; [3] &quot;2015-06-01 12:00:00 EDT&quot;</span></a></code></pre></div>
<p>두 가지 방법으로 시간대를 변경할 수 있다.</p>
<ul>
<li><p>시각을 유지하고 표시 방법을 변경한다. 시각은 맞지만 더 자연스러운 표시를 원한다면 이 방법을 써라.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb273-1" data-line-number="1">x4a &lt;-<span class="st"> </span><span class="kw">with_tz</span>(x4, <span class="dt">tzone =</span> <span class="st">&quot;Australia/Lord_Howe&quot;</span>)</a>
<a class="sourceLine" id="cb273-2" data-line-number="2">x4a</a>
<a class="sourceLine" id="cb273-3" data-line-number="3"><span class="co">#&gt; [1] &quot;2015-06-02 02:30:00 +1030&quot; &quot;2015-06-02 02:30:00 +1030&quot;</span></a>
<a class="sourceLine" id="cb273-4" data-line-number="4"><span class="co">#&gt; [3] &quot;2015-06-02 02:30:00 +1030&quot;</span></a>
<a class="sourceLine" id="cb273-5" data-line-number="5">x4a <span class="op">-</span><span class="st"> </span>x4</a>
<a class="sourceLine" id="cb273-6" data-line-number="6"><span class="co">#&gt; Time differences in secs</span></a>
<a class="sourceLine" id="cb273-7" data-line-number="7"><span class="co">#&gt; [1] 0 0 0</span></a></code></pre></div>
<p>(이 예시는 시간대의 다른 어려운 점을 보여준다. 시간대 오프셋이 모두 정수-시 (integer hour) 인 것은 아니다!)</p></li>
<li><p>기본 시각을 변경한다. 시각에 잘못된 시간대가 붙어 있어서 이를 수정해야 한다면 이 방법을 사용하라.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb274-1" data-line-number="1">x4b &lt;-<span class="st"> </span><span class="kw">force_tz</span>(x4, <span class="dt">tzone =</span> <span class="st">&quot;Australia/Lord_Howe&quot;</span>)</a>
<a class="sourceLine" id="cb274-2" data-line-number="2">x4b</a>
<a class="sourceLine" id="cb274-3" data-line-number="3"><span class="co">#&gt; [1] &quot;2015-06-01 12:00:00 +1030&quot; &quot;2015-06-01 12:00:00 +1030&quot;</span></a>
<a class="sourceLine" id="cb274-4" data-line-number="4"><span class="co">#&gt; [3] &quot;2015-06-01 12:00:00 +1030&quot;</span></a>
<a class="sourceLine" id="cb274-5" data-line-number="5">x4b <span class="op">-</span><span class="st"> </span>x4</a>
<a class="sourceLine" id="cb274-6" data-line-number="6"><span class="co">#&gt; Time differences in hours</span></a>
<a class="sourceLine" id="cb274-7" data-line-number="7"><span class="co">#&gt; [1] -14.5 -14.5 -14.5</span></a></code></pre></div></li>
</ul>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="factors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="program-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/datetimes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
