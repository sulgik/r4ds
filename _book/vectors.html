<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 벡터 | R 을 활용한 데이터과학</title>
  <meta name="description" content="12 벡터 | R 을 활용한 데이터과학" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="12 벡터 | R 을 활용한 데이터과학" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sulgik.github.io/r4ds/" />
  <meta property="og:image" content="https://sulgik.github.io/r4ds/cover.png" />
  
  <meta name="github-repo" content="sulgik/r4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 벡터 | R 을 활용한 데이터과학" />
  <meta name="twitter:site" content="@sulgik" />
  
  <meta name="twitter:image" content="https://sulgik.github.io/r4ds/cover.png" />

<meta name="author" content="개럿 그롤문드" />
<meta name="author" content="해들리 위컴" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="communicate-intro.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>환영합니다</a></li>
<li class="part"><span><b>I 데이터 길들이기</b></span></li>
<li class="chapter" data-level="1" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>1</b> 소개</a></li>
<li class="chapter" data-level="2" data-path="tibble.html"><a href="tibble.html"><i class="fa fa-check"></i><b>2</b> 티블</a><ul>
<li class="chapter" data-level="2.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>2.1</b> 들어가기</a><ul>
<li class="chapter" data-level="2.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>2.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="tibble.html"><a href="tibble.html#tibbles"><i class="fa fa-check"></i><b>2.2</b> tibble 생성하기</a></li>
<li class="chapter" data-level="2.3" data-path="tibble.html"><a href="tibble.html#tibble-vs.data.frame"><i class="fa fa-check"></i><b>2.3</b> Tibble vs. data.frame</a><ul>
<li class="chapter" data-level="2.3.1" data-path="tibble.html"><a href="tibble.html#화면출력"><i class="fa fa-check"></i><b>2.3.1</b> 화면출력</a></li>
<li class="chapter" data-level="2.3.2" data-path="tibble.html"><a href="tibble.html#서브셋하기"><i class="fa fa-check"></i><b>2.3.2</b> 서브셋하기</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tibble.html"><a href="tibble.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>2.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="2.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>3</b> 데이터 불러오기</a><ul>
<li class="chapter" data-level="3.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>3.1</b> 들어가기</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>3.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-import.html"><a href="data-import.html#시작하기"><i class="fa fa-check"></i><b>3.2</b> 시작하기</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-import.html"><a href="data-import.html#베이스-r과-비교"><i class="fa fa-check"></i><b>3.2.1</b> 베이스 R과 비교</a></li>
<li class="chapter" data-level="3.2.2" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>3.2.2</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-import.html"><a href="data-import.html#벡터-파싱하기"><i class="fa fa-check"></i><b>3.3</b> 벡터 파싱하기</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-import.html"><a href="data-import.html#숫자"><i class="fa fa-check"></i><b>3.3.1</b> 숫자</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>3.3.2</b> 문자열</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>3.3.3</b> 팩터형</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>3.3.4</b> 데이트형, 데이트-타임형, 타임형</a></li>
<li class="chapter" data-level="3.3.5" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>3.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-import.html"><a href="data-import.html#파일-파싱하기"><i class="fa fa-check"></i><b>3.4</b> 파일 파싱하기</a><ul>
<li class="chapter" data-level="3.4.1" data-path="data-import.html"><a href="data-import.html#전략"><i class="fa fa-check"></i><b>3.4.1</b> 전략</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-import.html"><a href="data-import.html#문제점"><i class="fa fa-check"></i><b>3.4.2</b> 문제점</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-import.html"><a href="data-import.html#기타-전략"><i class="fa fa-check"></i><b>3.4.3</b> 기타 전략</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-import.html"><a href="data-import.html#파일에-쓰기"><i class="fa fa-check"></i><b>3.5</b> 파일에 쓰기</a></li>
<li class="chapter" data-level="3.6" data-path="data-import.html"><a href="data-import.html#기타-데이터-유형"><i class="fa fa-check"></i><b>3.6</b> 기타 데이터 유형</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4</b> 타이디 데이터</a><ul>
<li class="chapter" data-level="4.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>4.1</b> 들어가기</a><ul>
<li class="chapter" data-level="4.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>4.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>4.2</b> Tidy Data</a><ul>
<li class="chapter" data-level="4.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>4.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidy-data.html"><a href="tidy-data.html#피봇팅"><i class="fa fa-check"></i><b>4.3</b> 피봇팅</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidy-data.html"><a href="tidy-data.html#longer"><i class="fa fa-check"></i><b>4.3.1</b> Longer</a></li>
<li class="chapter" data-level="4.3.2" data-path="tidy-data.html"><a href="tidy-data.html#wider"><i class="fa fa-check"></i><b>4.3.2</b> Wider</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>4.3.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidy-data.html"><a href="tidy-data.html#separate-과-unite"><i class="fa fa-check"></i><b>4.4</b> separate 과 unite</a><ul>
<li class="chapter" data-level="4.4.1" data-path="tidy-data.html"><a href="tidy-data.html#separate"><i class="fa fa-check"></i><b>4.4.1</b> separate</a></li>
<li class="chapter" data-level="4.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>4.4.2</b> unite</a></li>
<li class="chapter" data-level="4.4.3" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>4.4.3</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tidy-data.html"><a href="tidy-data.html#결측값"><i class="fa fa-check"></i><b>4.5</b> 결측값</a><ul>
<li class="chapter" data-level="4.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>4.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tidy-data.html"><a href="tidy-data.html#사례-연구"><i class="fa fa-check"></i><b>4.6</b> 사례 연구</a><ul>
<li class="chapter" data-level="4.6.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-4"><i class="fa fa-check"></i><b>4.6.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="tidy-data.html"><a href="tidy-data.html#타이디하지-않은-데이터"><i class="fa fa-check"></i><b>4.7</b> 타이디하지 않은 데이터</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>5</b> 관계형 데이터</a><ul>
<li class="chapter" data-level="5.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>5.1</b> 들어가기</a><ul>
<li class="chapter" data-level="5.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>5.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>5.2</b> nycflights13</a><ul>
<li class="chapter" data-level="5.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>5.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="relational-data.html"><a href="relational-data.html#키"><i class="fa fa-check"></i><b>5.3</b> 키</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>5.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>5.4</b> 뮤테이팅 조인</a><ul>
<li class="chapter" data-level="5.4.1" data-path="relational-data.html"><a href="relational-data.html#조인-이해하기"><i class="fa fa-check"></i><b>5.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="5.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>5.4.2</b> 내부 조인</a></li>
<li class="chapter" data-level="5.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>5.4.3</b> 외부 조인</a></li>
<li class="chapter" data-level="5.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>5.4.4</b> 중복키</a></li>
<li class="chapter" data-level="5.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>5.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="5.4.6" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>5.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="5.4.7" data-path="relational-data.html"><a href="relational-data.html#기타-구현"><i class="fa fa-check"></i><b>5.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>5.5</b> 필터링 조인</a><ul>
<li class="chapter" data-level="5.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>5.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="relational-data.html"><a href="relational-data.html#조인-문제"><i class="fa fa-check"></i><b>5.6</b> 조인 문제</a></li>
<li class="chapter" data-level="5.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>5.7</b> 집합 연산</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>6</b> 문자열</a><ul>
<li class="chapter" data-level="6.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>6.1</b> 들어가기</a><ul>
<li class="chapter" data-level="6.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>6.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="strings.html"><a href="strings.html#strings-basics"><i class="fa fa-check"></i><b>6.2</b> 문자열 기초</a><ul>
<li class="chapter" data-level="6.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>6.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="6.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>6.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="6.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>6.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="6.2.4" data-path="strings.html"><a href="strings.html#로캘"><i class="fa fa-check"></i><b>6.2.4</b> 로캘</a></li>
<li class="chapter" data-level="6.2.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>6.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="strings.html"><a href="strings.html#정규표현식을-이용한-패턴-매칭"><i class="fa fa-check"></i><b>6.3</b> 정규표현식을 이용한 패턴 매칭</a><ul>
<li class="chapter" data-level="6.3.1" data-path="strings.html"><a href="strings.html#기초-매칭"><i class="fa fa-check"></i><b>6.3.1</b> 기초 매칭</a></li>
<li class="chapter" data-level="6.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>6.3.2</b> 앵커</a></li>
<li class="chapter" data-level="6.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>6.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="6.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>6.3.4</b> 반복</a></li>
<li class="chapter" data-level="6.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>6.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="strings.html"><a href="strings.html#도구"><i class="fa fa-check"></i><b>6.4</b> 도구</a><ul>
<li class="chapter" data-level="6.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>6.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="6.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>6.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="6.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>6.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="6.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>6.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="6.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>6.4.5</b> Splitting</a></li>
<li class="chapter" data-level="6.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>6.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="strings.html"><a href="strings.html#기타-패턴-유형"><i class="fa fa-check"></i><b>6.5</b> 기타 패턴 유형</a><ul>
<li class="chapter" data-level="6.5.1" data-path="strings.html"><a href="strings.html#연습문제-11"><i class="fa fa-check"></i><b>6.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="strings.html"><a href="strings.html#정규표현식의-기타-용도"><i class="fa fa-check"></i><b>6.6</b> 정규표현식의 기타 용도</a></li>
<li class="chapter" data-level="6.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>6.7</b> stringi</a><ul>
<li class="chapter" data-level="6.7.1" data-path="strings.html"><a href="strings.html#연습문제-12"><i class="fa fa-check"></i><b>6.7.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> 팩터형</a><ul>
<li class="chapter" data-level="7.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>7.1</b> 들어가기</a><ul>
<li class="chapter" data-level="7.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>7.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="7.1.2" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>7.1.2</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#팩터형-생성하기"><i class="fa fa-check"></i><b>7.2</b> 팩터형 생성하기</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>7.3</b> General Social Survey</a><ul>
<li class="chapter" data-level="7.3.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>7.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#팩터-순서-수정하기"><i class="fa fa-check"></i><b>7.4</b> 팩터 순서 수정하기</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>7.4.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="factors.html"><a href="factors.html#팩터-레벨-수정하기"><i class="fa fa-check"></i><b>7.5</b> 팩터 레벨 수정하기</a><ul>
<li class="chapter" data-level="7.5.1" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>7.5.1</b> 연습문제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>8</b> 날짜와 시간</a><ul>
<li class="chapter" data-level="8.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>8.1</b> 들어가기</a><ul>
<li class="chapter" data-level="8.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>8.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dates-and-times.html"><a href="dates-and-times.html#날짜시간-생성하기"><i class="fa fa-check"></i><b>8.2</b> 날짜/시간 생성하기</a><ul>
<li class="chapter" data-level="8.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#문자열에서-생성"><i class="fa fa-check"></i><b>8.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="8.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#개별-구성요소에서-생성"><i class="fa fa-check"></i><b>8.2.2</b> 개별 구성요소에서 생성</a></li>
<li class="chapter" data-level="8.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>8.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="8.2.4" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>8.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="dates-and-times.html"><a href="dates-and-times.html#데이트-타임형-구성요소"><i class="fa fa-check"></i><b>8.3</b> 데이트-타임형 구성요소</a><ul>
<li class="chapter" data-level="8.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-가져오기"><i class="fa fa-check"></i><b>8.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="8.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#반올림"><i class="fa fa-check"></i><b>8.3.2</b> 반올림</a></li>
<li class="chapter" data-level="8.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#구성요소-설정"><i class="fa fa-check"></i><b>8.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>8.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="dates-and-times.html"><a href="dates-and-times.html#시간-범위"><i class="fa fa-check"></i><b>8.4</b> 시간 범위</a><ul>
<li class="chapter" data-level="8.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#듀레이션형"><i class="fa fa-check"></i><b>8.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="8.4.2" data-path="dates-and-times.html"><a href="dates-and-times.html#피리어드형"><i class="fa fa-check"></i><b>8.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="8.4.3" data-path="dates-and-times.html"><a href="dates-and-times.html#인터벌형"><i class="fa fa-check"></i><b>8.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="8.4.4" data-path="dates-and-times.html"><a href="dates-and-times.html#요약"><i class="fa fa-check"></i><b>8.4.4</b> 요약</a></li>
<li class="chapter" data-level="8.4.5" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>8.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>8.5</b> 시간대</a></li>
</ul></li>
<li class="part"><span><b>II 프로그래밍</b></span></li>
<li class="chapter" data-level="9" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>9</b> 소개</a><ul>
<li class="chapter" data-level="9.1" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>9.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Pipes.html"><a href="Pipes.html"><i class="fa fa-check"></i><b>10</b> 파이프</a><ul>
<li class="chapter" data-level="10.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>10.1</b> 들어가기</a><ul>
<li class="chapter" data-level="10.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>10.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="Pipes.html"><a href="Pipes.html#파이프-대안"><i class="fa fa-check"></i><b>10.2</b> 파이프 대안</a><ul>
<li class="chapter" data-level="10.2.1" data-path="Pipes.html"><a href="Pipes.html#중간단계-이용"><i class="fa fa-check"></i><b>10.2.1</b> 중간단계 이용</a></li>
<li class="chapter" data-level="10.2.2" data-path="Pipes.html"><a href="Pipes.html#원본-덮어쓰기"><i class="fa fa-check"></i><b>10.2.2</b> 원본 덮어쓰기</a></li>
<li class="chapter" data-level="10.2.3" data-path="Pipes.html"><a href="Pipes.html#함수-작성"><i class="fa fa-check"></i><b>10.2.3</b> 함수 작성</a></li>
<li class="chapter" data-level="10.2.4" data-path="Pipes.html"><a href="Pipes.html#파이프-사용"><i class="fa fa-check"></i><b>10.2.4</b> 파이프 사용</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Pipes.html"><a href="Pipes.html#파이프를-사용하지-않아야-할-경우"><i class="fa fa-check"></i><b>10.3</b> 파이프를 사용하지 않아야 할 경우</a></li>
<li class="chapter" data-level="10.4" data-path="Pipes.html"><a href="Pipes.html#magrittr-의-기타-도구"><i class="fa fa-check"></i><b>10.4</b> magrittr 의 기타 도구</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>11</b> 함수</a><ul>
<li class="chapter" data-level="11.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>11.1</b> 들어가기</a><ul>
<li class="chapter" data-level="11.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>11.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="functions.html"><a href="functions.html#함수를-언제-작성해야-하나"><i class="fa fa-check"></i><b>11.2</b> 함수를 언제 작성해야 하나?</a><ul>
<li class="chapter" data-level="11.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>11.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions.html"><a href="functions.html#함수는-사람과-컴퓨터를-위한-것"><i class="fa fa-check"></i><b>11.3</b> 함수는 사람과 컴퓨터를 위한 것</a><ul>
<li class="chapter" data-level="11.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>11.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functions.html"><a href="functions.html#조건부-실행"><i class="fa fa-check"></i><b>11.4</b> 조건부 실행</a><ul>
<li class="chapter" data-level="11.4.1" data-path="functions.html"><a href="functions.html#조건문"><i class="fa fa-check"></i><b>11.4.1</b> 조건문</a></li>
<li class="chapter" data-level="11.4.2" data-path="functions.html"><a href="functions.html#다중-조건"><i class="fa fa-check"></i><b>11.4.2</b> 다중 조건</a></li>
<li class="chapter" data-level="11.4.3" data-path="functions.html"><a href="functions.html#코드-스타일"><i class="fa fa-check"></i><b>11.4.3</b> 코드 스타일</a></li>
<li class="chapter" data-level="11.4.4" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-2"><i class="fa fa-check"></i><b>11.4.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="functions.html"><a href="functions.html#함수-인수"><i class="fa fa-check"></i><b>11.5</b> 함수 인수</a><ul>
<li class="chapter" data-level="11.5.1" data-path="functions.html"><a href="functions.html#이름-정하기"><i class="fa fa-check"></i><b>11.5.1</b> 이름 정하기</a></li>
<li class="chapter" data-level="11.5.2" data-path="functions.html"><a href="functions.html#값-확인하기"><i class="fa fa-check"></i><b>11.5.2</b> 값 확인하기</a></li>
<li class="chapter" data-level="11.5.3" data-path="functions.html"><a href="functions.html#점-점-점"><i class="fa fa-check"></i><b>11.5.3</b> 점-점-점 (…)</a></li>
<li class="chapter" data-level="11.5.4" data-path="functions.html"><a href="functions.html#지연-평가"><i class="fa fa-check"></i><b>11.5.4</b> 지연 평가</a></li>
<li class="chapter" data-level="11.5.5" data-path="tidy-data.html"><a href="tidy-data.html#연습문제-3"><i class="fa fa-check"></i><b>11.5.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="functions.html"><a href="functions.html#반환값"><i class="fa fa-check"></i><b>11.6</b> 반환값</a><ul>
<li class="chapter" data-level="11.6.1" data-path="functions.html"><a href="functions.html#명시적-반환문"><i class="fa fa-check"></i><b>11.6.1</b> 명시적 반환문</a></li>
<li class="chapter" data-level="11.6.2" data-path="functions.html"><a href="functions.html#파이핑-가능한-함수-작성하기"><i class="fa fa-check"></i><b>11.6.2</b> 파이핑 가능한 함수 작성하기</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="functions.html"><a href="functions.html#환경"><i class="fa fa-check"></i><b>11.7</b> 환경</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>12</b> 벡터</a><ul>
<li class="chapter" data-level="12.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>12.1</b> 들어가기</a><ul>
<li class="chapter" data-level="12.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>12.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="vectors.html"><a href="vectors.html#벡터-기본-사항"><i class="fa fa-check"></i><b>12.2</b> 벡터 기본 사항</a></li>
<li class="chapter" data-level="12.3" data-path="vectors.html"><a href="vectors.html#원자-벡터의-주요-유형"><i class="fa fa-check"></i><b>12.3</b> 원자 벡터의 주요 유형</a><ul>
<li class="chapter" data-level="12.3.1" data-path="vectors.html"><a href="vectors.html#논리형"><i class="fa fa-check"></i><b>12.3.1</b> 논리형</a></li>
<li class="chapter" data-level="12.3.2" data-path="vectors.html"><a href="vectors.html#수치형"><i class="fa fa-check"></i><b>12.3.2</b> 수치형</a></li>
<li class="chapter" data-level="12.3.3" data-path="vectors.html"><a href="vectors.html#문자형"><i class="fa fa-check"></i><b>12.3.3</b> 문자형</a></li>
<li class="chapter" data-level="12.3.4" data-path="tidy-data.html"><a href="tidy-data.html#결측값"><i class="fa fa-check"></i><b>12.3.4</b> 결측값</a></li>
<li class="chapter" data-level="12.3.5" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>12.3.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="vectors.html"><a href="vectors.html#원자벡터-이용하기"><i class="fa fa-check"></i><b>12.4</b> 원자벡터 이용하기</a><ul>
<li class="chapter" data-level="12.4.1" data-path="vectors.html"><a href="vectors.html#강제변환"><i class="fa fa-check"></i><b>12.4.1</b> 강제변환</a></li>
<li class="chapter" data-level="12.4.2" data-path="vectors.html"><a href="vectors.html#테스트-함수"><i class="fa fa-check"></i><b>12.4.2</b> 테스트 함수</a></li>
<li class="chapter" data-level="12.4.3" data-path="vectors.html"><a href="vectors.html#스칼라와-재활용-규칙"><i class="fa fa-check"></i><b>12.4.3</b> 스칼라와 재활용 규칙</a></li>
<li class="chapter" data-level="12.4.4" data-path="vectors.html"><a href="vectors.html#벡터-이름-짓기"><i class="fa fa-check"></i><b>12.4.4</b> 벡터 이름 짓기</a></li>
<li class="chapter" data-level="12.4.5" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>12.4.5</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.4.6" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>12.4.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>12.5</b> 재귀 벡터 (리스트)</a><ul>
<li class="chapter" data-level="12.5.1" data-path="vectors.html"><a href="vectors.html#리스트-시각화"><i class="fa fa-check"></i><b>12.5.1</b> 리스트 시각화</a></li>
<li class="chapter" data-level="12.5.2" data-path="tibble.html"><a href="tibble.html#서브셋하기"><i class="fa fa-check"></i><b>12.5.2</b> 서브셋하기</a></li>
<li class="chapter" data-level="12.5.3" data-path="vectors.html"><a href="vectors.html#후추-리스트"><i class="fa fa-check"></i><b>12.5.3</b> 후추 리스트</a></li>
<li class="chapter" data-level="12.5.4" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>12.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>12.6</b> Attributes</a></li>
<li class="chapter" data-level="12.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>12.7</b> Augmented vectors</a><ul>
<li class="chapter" data-level="12.7.1" data-path="factors.html"><a href="factors.html#factors"><i class="fa fa-check"></i><b>12.7.1</b> Factors</a></li>
<li class="chapter" data-level="12.7.2" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>12.7.2</b> Dates and date-times</a></li>
<li class="chapter" data-level="12.7.3" data-path="tibble.html"><a href="tibble.html#tibbles"><i class="fa fa-check"></i><b>12.7.3</b> Tibbles</a></li>
<li class="chapter" data-level="12.7.4" data-path="vectors.html"><a href="vectors.html#exercises-1"><i class="fa fa-check"></i><b>12.7.4</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III 의사소통하기</b></span></li>
<li class="chapter" data-level="13" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>13</b> 소개</a></li>
<li class="chapter" data-level="14" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>14</b> R 마크다운</a><ul>
<li class="chapter" data-level="14.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>14.1</b> 들어가기</a><ul>
<li class="chapter" data-level="14.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>14.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="rmarkdown.html"><a href="rmarkdown.html#r-마크다운-기초"><i class="fa fa-check"></i><b>14.2</b> R 마크다운 기초</a><ul>
<li class="chapter" data-level="14.2.1" data-path="tibble.html"><a href="tibble.html#연습문제"><i class="fa fa-check"></i><b>14.2.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="rmarkdown.html"><a href="rmarkdown.html#마크다운으로-텍스트-서식-지정하기"><i class="fa fa-check"></i><b>14.3</b> 마크다운으로 텍스트 서식 지정하기</a><ul>
<li class="chapter" data-level="14.3.1" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>14.3.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="rmarkdown.html"><a href="rmarkdown.html#코드-청크"><i class="fa fa-check"></i><b>14.4</b> 코드 청크</a><ul>
<li class="chapter" data-level="14.4.1" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-이름"><i class="fa fa-check"></i><b>14.4.1</b> 청크 이름</a></li>
<li class="chapter" data-level="14.4.2" data-path="rmarkdown.html"><a href="rmarkdown.html#청크-옵션"><i class="fa fa-check"></i><b>14.4.2</b> 청크 옵션</a></li>
<li class="chapter" data-level="14.4.3" data-path="rmarkdown.html"><a href="rmarkdown.html#표"><i class="fa fa-check"></i><b>14.4.3</b> 표</a></li>
<li class="chapter" data-level="14.4.4" data-path="rmarkdown.html"><a href="rmarkdown.html#캐싱"><i class="fa fa-check"></i><b>14.4.4</b> 캐싱</a></li>
<li class="chapter" data-level="14.4.5" data-path="rmarkdown.html"><a href="rmarkdown.html#전역-옵션"><i class="fa fa-check"></i><b>14.4.5</b> 전역 옵션</a></li>
<li class="chapter" data-level="14.4.6" data-path="rmarkdown.html"><a href="rmarkdown.html#inline-code"><i class="fa fa-check"></i><b>14.4.6</b> Inline code</a></li>
<li class="chapter" data-level="14.4.7" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>14.4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="rmarkdown.html"><a href="rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>14.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="14.6" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>14.6</b> YAML header</a><ul>
<li class="chapter" data-level="14.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#parameters"><i class="fa fa-check"></i><b>14.6.1</b> Parameters</a></li>
<li class="chapter" data-level="14.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliographies-and-citations"><i class="fa fa-check"></i><b>14.6.2</b> Bibliographies and Citations</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>14.7</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>15</b> 그래프를 통한 의사소통</a><ul>
<li class="chapter" data-level="15.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>15.1</b> 들어가기</a><ul>
<li class="chapter" data-level="15.1.1" data-path="tibble.html"><a href="tibble.html#준비하기"><i class="fa fa-check"></i><b>15.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>15.2</b> Label</a><ul>
<li class="chapter" data-level="15.2.1" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>15.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>15.3</b> Annotations</a><ul>
<li class="chapter" data-level="15.3.1" data-path="vectors.html"><a href="vectors.html#exercises-1"><i class="fa fa-check"></i><b>15.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>15.4</b> Scales</a><ul>
<li class="chapter" data-level="15.4.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#axis-ticks-and-legend-keys"><i class="fa fa-check"></i><b>15.4.1</b> Axis ticks and legend keys</a></li>
<li class="chapter" data-level="15.4.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#legend-layout"><i class="fa fa-check"></i><b>15.4.2</b> Legend layout</a></li>
<li class="chapter" data-level="15.4.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#replacing-a-scale"><i class="fa fa-check"></i><b>15.4.3</b> Replacing a scale</a></li>
<li class="chapter" data-level="15.4.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-2"><i class="fa fa-check"></i><b>15.4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>15.5</b> Zooming</a></li>
<li class="chapter" data-level="15.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>15.6</b> Themes</a></li>
<li class="chapter" data-level="15.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>15.7</b> Saving your plots</a><ul>
<li class="chapter" data-level="15.7.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#figure-sizing"><i class="fa fa-check"></i><b>15.7.1</b> Figure sizing</a></li>
<li class="chapter" data-level="15.7.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#other-important-options"><i class="fa fa-check"></i><b>15.7.2</b> Other important options</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="program-intro.html"><a href="program-intro.html#learning-more"><i class="fa fa-check"></i><b>15.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html"><i class="fa fa-check"></i><b>16</b> R 마크다운 유형</a><ul>
<li class="chapter" data-level="16.1" data-path="tibble.html"><a href="tibble.html#들어가기"><i class="fa fa-check"></i><b>16.1</b> 들어가기</a></li>
<li class="chapter" data-level="16.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#출력-옵션"><i class="fa fa-check"></i><b>16.2</b> 출력 옵션</a></li>
<li class="chapter" data-level="16.3" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#document"><i class="fa fa-check"></i><b>16.3</b> Document</a></li>
<li class="chapter" data-level="16.4" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#notebook"><i class="fa fa-check"></i><b>16.4</b> Notebook</a></li>
<li class="chapter" data-level="16.5" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#presentation"><i class="fa fa-check"></i><b>16.5</b> Presentation</a></li>
<li class="chapter" data-level="16.6" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#dashboard"><i class="fa fa-check"></i><b>16.6</b> Dashboard</a></li>
<li class="chapter" data-level="16.7" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#대화형-동작"><i class="fa fa-check"></i><b>16.7</b> 대화형 동작</a><ul>
<li class="chapter" data-level="16.7.1" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>16.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="16.7.2" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#shiny"><i class="fa fa-check"></i><b>16.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#website"><i class="fa fa-check"></i><b>16.8</b> Website</a></li>
<li class="chapter" data-level="16.9" data-path="rmarkdown-formats.html"><a href="rmarkdown-formats.html#other-formats"><i class="fa fa-check"></i><b>16.9</b> Other formats</a></li>
<li class="chapter" data-level="16.10" data-path="factors.html"><a href="factors.html#더-배우기"><i class="fa fa-check"></i><b>16.10</b> 더 배우기</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="rmarkdown-workflow.html"><a href="rmarkdown-workflow.html"><i class="fa fa-check"></i><b>17</b> R 마크다운 워크플로</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 을 활용한 데이터과학</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vectors" class="section level1">
<h1><span class="header-section-number">12</span> 벡터</h1>
<div id="들어가기" class="section level2">
<h2><span class="header-section-number">12.1</span> 들어가기</h2>
<p>지금까지 이 책은 티블이라는 데이터 유형, 또 이와 함께 작동하는 패키지들을 중점적으로 살펴보았다. 그러나 자신만의 함수를 작성하고 R 을 더 깊이 파기 시작하려면 티블의 기초 객체인 벡터에 대해 알아야 한다. R 을 전통적인 방법으로 배운 사람은 이미 벡터가 익숙할 것이다. 대부분의 R 리소스가 벡터로 시작하여 티블에까지 동작하기 때문이다. 배우고 나면 바로 유용하게 사용할 수 있는 티블부터 시작한 다음, 기본 구성요소로 나아가는 것이 더 바람직하다고 생각한다.</p>
<p>작성하는 함수의 대부분은 벡터에 작동할 것이기 때문에 벡터는 매우 중요하다. <볼드>ggplot2, dplyr, tidyr</볼드> 에서와 같이 티블에 작동하는 함수를 작성할 수도 있지만, 이러한 함수 작성에 필요한 도구는 아직 일반화되거나 성숙되지 않았다. 나는 더 나은 접근법(<a href="https://github.com/hadley/lazyeval" class="uri">https://github.com/hadley/lazyeval</a>)을 만들고 있지만, 이 책이 출판되기 전까지 준비되지 않을 것이다. 설령 완료되더라도 여전히 벡터를 이해해야 한다. 새로운 접근법은 사용자 친화적 레이어를 맨 위에 만드는 것만 수월하게 해주기 때문이다.</p>
<div id="준비하기" class="section level3">
<h3><span class="header-section-number">12.1.1</span> 준비하기</h3>
<p>이 장의 초점은 베이스 R 데이터 구조에 있으므로, 어떤 패키지도 로드할 필요는 없다. 그러나 우리는 베이스 R 의 비일관성을 피하기 위해 <볼드>purrr</볼드> 패키지의 함수를 사용할 것이다.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb341-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
</div>
</div>
<div id="벡터-기본-사항" class="section level2">
<h2><span class="header-section-number">12.2</span> 벡터 기본 사항</h2>
<p>벡터는 두 가지 유형이 있다.</p>
<ol style="list-style-type: decimal">
<li><p><이탤릭>원자 벡터</이탤릭>: 여섯 가지 유형, <이탤릭>논리형(logical), 정수형(integer), 더블형(double), 문자형(character), 복소수형(character), 원시형(raw)</이탤릭> 이 있다. 정수형 및 더블형 벡터는 합쳐서 <이탤릭>수치형(numeric)</이탤릭> 벡터라고 한다.</p></li>
<li><p><이탤릭>리스트</이탤릭>: 재귀적 벡터라고 할 수 있는데, 한 리스트가 다른 리스트를 포함할 수 있기 때문이다.</p></li>
</ol>
<p>원자 벡터와 리스트의 가장 큰 차이점은 원자 벡터가 <이탤릭>동질적</이탤릭>인 반면, 리스트는 <이탤릭>이질적</이탤릭>이 될 수 있다는 것이다. 이와 관련한 또 다른 객체는 <코드체>NULL</코드체> 이다. <코드체>NULL</코드체> 은 벡터가 없는 것을 나타내기 위해 종종 사용된다(반면, <코드체>NA</코드체>는 벡터의 값이 없음을 나타내는데 사용됨). <코드체>NULL</코드체>은 일반적으로 길이가 0 인 벡터처럼 동작한다. <a href="vectors.html#fig:datatypes">12.1</a> 에는 상호 관계가 요약되어 있다.</p>
<div class="figure" style="text-align: center"><span id="fig:datatypes"></span>
<img src="diagrams/data-structures-overview.png" alt="R 벡터 유형의 체계" width="50%" />
<p class="caption">
Figure 12.1: R 벡터 유형의 체계
</p>
</div>
<p>모든 벡터는 두 가지 주요 속성이 있다.</p>
<ol style="list-style-type: decimal">
<li><p><이탤릭>유형</이탤릭>: <코드체>typeof()</코드체> 로 확인할 수 있음</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" data-line-number="1"><span class="kw">typeof</span>(letters)</a>
<a class="sourceLine" id="cb342-2" data-line-number="2"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb342-3" data-line-number="3"><span class="kw">typeof</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb342-4" data-line-number="4"><span class="co">#&gt; [1] &quot;integer&quot;</span></a></code></pre></div></li>
<li><p><이탤릭>길이</이탤릭>: <코드체>length()</코드체> 로 확인할 수 있음</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb343-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb343-2" data-line-number="2"><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb343-3" data-line-number="3"><span class="co">#&gt; [1] 3</span></a></code></pre></div></li>
</ol>
<p>임의의 추가 메타 데이터를 속성(attributes) 형식으로 벡터에 포함시킬 수 있다. 이러한 속성은 추가 동작을 기반으로 하는 <이탤릭>확장 벡터 (augmented vector)</이탤릭>를 만드는 데 사용된다. 확장 벡터에는 네 가지 중요한 유형이 있다.</p>
<ul>
<li>팩터형은 정수형 벡터를 기반으로 만들어졌다.</li>
<li>데이트형과 데이트-타임형은 수치형 벡터를 기반으로 만들어졌다.</li>
<li>데이터프레임과 티블은 리스트를 기반으로 만들어졌다.</li>
</ul>
<p>이 장에서는 이러한 중요한 벡터를 가장 단순한 것에서부터 가장 복잡한 것까지 소개한다. 원자 벡터로 시작한 다음 리스트로 나아가고, 확장 벡터로 마무리 지을 것이다.</p>
</div>
<div id="원자-벡터의-주요-유형" class="section level2">
<h2><span class="header-section-number">12.3</span> 원자 벡터의 주요 유형</h2>
<p>가장 중요한 네 가지 유형의 원자 벡터는 논리형, 정수형, 더블형 및 문자형이다. 원시형과 복소수형은 데이터 분석 중에 거의 사용되지 않으므로 여기서 논의하지 않겠다.</p>
<div id="논리형" class="section level3">
<h3><span class="header-section-number">12.3.1</span> 논리형</h3>
<p>논리형 벡터는 <코드체>FALSE, TRUE</코드체> 및 <코드체>NA</코드체>의 세 가지 값만 사용할 수 있기 때문에 가장 단순한 유형의 원자 벡터이다. 논리형 벡터는 <a href="#comparisons">비교</a> 에 설명된 것과 같이, 대개의 경우 비교 연산자로 생성된다. <코드체>c()</코드체>를 사용하여 직접 생성할 수도 있다.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb344-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">%%</span><span class="st"> </span><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb344-2" data-line-number="2"><span class="co">#&gt;  [1] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb344-3" data-line-number="3"></a>
<a class="sourceLine" id="cb344-4" data-line-number="4"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb344-5" data-line-number="5"><span class="co">#&gt; [1]  TRUE  TRUE FALSE    NA</span></a></code></pre></div>
</div>
<div id="수치형" class="section level3">
<h3><span class="header-section-number">12.3.2</span> 수치형</h3>
<p>정수형 및 더블형 벡터는 합쳐서 수치형 벡터로 알려져 있다. R 에서 숫자는 기본값으로 더블형이다. 정수형으로 만들려면 숫자 뒤에 <코드체>L</코드체>을 붙이면 된다.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb345-1" data-line-number="1"><span class="kw">typeof</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb345-2" data-line-number="2"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb345-3" data-line-number="3"><span class="kw">typeof</span>(1L)</a>
<a class="sourceLine" id="cb345-4" data-line-number="4"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb345-5" data-line-number="5"><span class="fl">1.5</span>L</a>
<a class="sourceLine" id="cb345-6" data-line-number="6"><span class="co">#&gt; [1] 1.5</span></a></code></pre></div>
<p>정수형과 더블형을 구분하는 것은 일반적으로 중요하지 않지만 두 가지 중요한 차이점을 알고 있어야 한다.</p>
<ol style="list-style-type: decimal">
<li><p>더블형은 근사값이다. 더블형은 부동 소수점수를 나타내는데, 고정된 양의 메모리를 사용하여 항상 정확하게 표현할 수는 없다. 즉, 더블형 값은 모두 근사치로 간주해야 한다. 예를 들어 2의 제곱근의 제곱은 무엇일까?</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb346-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span>) <span class="op">^</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb346-2" data-line-number="2">x</a>
<a class="sourceLine" id="cb346-3" data-line-number="3"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb346-4" data-line-number="4">x <span class="op">-</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb346-5" data-line-number="5"><span class="co">#&gt; [1] 4.44e-16</span></a></code></pre></div>
<p>이런 동작은 부동 소수점수로 작업시 자주 일어난다. 즉, 대부분의 계산에는 근사 오차가 포함된다. <코드체>==</코드체>를 사용하여 부동 소수점수를 비교하는 대신 <코드체>dplyr::near()</코드체>를 사용해야 한다. 그러면 수치상 오차(tolerence)가 허용된다.</p></li>
<li><p>정수형에는 특수한 값이 <코드체>NA</코드체> 한 개가 있으며, 더블형에는 <코드체>NA, NaN, Inf</코드체> 및 <코드체>-Inf</코드체> 네 개가 있다. 이 모든 특수한 수치들은 나눗셈에서 발생할 수 있다.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb347-1" data-line-number="1"><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="op">/</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb347-2" data-line-number="2"><span class="co">#&gt; [1] -Inf  NaN  Inf</span></a></code></pre></div>
<p>Avoid using <code>==</code> to check for these other special values. Instead use the
helper functions <code>is.finite()</code>, <code>is.infinite()</code>, and <code>is.nan()</code>:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>0</th>
<th>Inf</th>
<th>NA</th>
<th>NaN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is.finite()</code></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is.infinite()</code></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is.na()</code></td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
</tr>
<tr class="even">
<td><code>is.nan()</code></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<div id="문자형" class="section level3">
<h3><span class="header-section-number">12.3.3</span> 문자형</h3>
<p>문자형 벡터는 각 요소가 문자열이고 문자열에 임의의 양의 데이터가 포함될 수 있기 때문에 가장 복잡한 유형의 원자 벡터이다.</p>
<p>우리는 <a href="strings.html#strings">문자열</a> 에서 문자열 작업에 대해 이미 많은 것을 배웠다. 여기서는 문자열 구현에 있어서 중요한 특징 중 하나를 말하고자 한다. R은 전역 문자열 풀을 사용한다. 즉, 각 고유 문자열은 메모리에 한 번만 저장되며 문자열을 사용할 때마다 해당 표현을 포인트한다. 이렇게 하면 중복 문자열에 필요한 메모리 양이 줄어 든다. <코드체>pryr::object_size()</코드체>를 사용하여 이 동작을 직접 볼 수 있다.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" data-line-number="1">x &lt;-<span class="st"> &quot;적당히 긴 문자열입니다.&quot;</span></a>
<a class="sourceLine" id="cb348-2" data-line-number="2">pryr<span class="op">::</span><span class="kw">object_size</span>(x)</a>
<a class="sourceLine" id="cb348-3" data-line-number="3"><span class="co">#&gt; Registered S3 method overwritten by &#39;pryr&#39;:</span></a>
<a class="sourceLine" id="cb348-4" data-line-number="4"><span class="co">#&gt;   method      from</span></a>
<a class="sourceLine" id="cb348-5" data-line-number="5"><span class="co">#&gt;   print.bytes Rcpp</span></a>
<a class="sourceLine" id="cb348-6" data-line-number="6"><span class="co">#&gt; 152 B</span></a>
<a class="sourceLine" id="cb348-7" data-line-number="7"></a>
<a class="sourceLine" id="cb348-8" data-line-number="8">y &lt;-<span class="st"> </span><span class="kw">rep</span>(x, <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb348-9" data-line-number="9">pryr<span class="op">::</span><span class="kw">object_size</span>(y)</a>
<a class="sourceLine" id="cb348-10" data-line-number="10"><span class="co">#&gt; 8.14 kB</span></a></code></pre></div>
<p><코드체>y</코드체>의 각 요소는 같은 문자열에 대한 포인터이기 때문에 <코드체>y</코드체>는 <코드체>x</코드체>의 메모리의 1000배를 차지하지 않는다. 포인터는 8 바이트이므로, 136 B 문자열에 대한 포인터 1000개는 8 * 1000 + 136 = 8.13 kB 이다.</p>
</div>
<div id="결측값" class="section level3">
<h3><span class="header-section-number">12.3.4</span> 결측값</h3>
<p>각 유형의 원자 벡터에는 고유한 결측값이 있다.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb349-1" data-line-number="1"><span class="ot">NA</span>            <span class="co"># 논리형</span></a>
<a class="sourceLine" id="cb349-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb349-3" data-line-number="3"><span class="ot">NA_integer_</span>   <span class="co"># 정수형</span></a>
<a class="sourceLine" id="cb349-4" data-line-number="4"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb349-5" data-line-number="5"><span class="ot">NA_real_</span>      <span class="co"># 더블형</span></a>
<a class="sourceLine" id="cb349-6" data-line-number="6"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb349-7" data-line-number="7"><span class="ot">NA_character_</span> <span class="co"># 문자형</span></a>
<a class="sourceLine" id="cb349-8" data-line-number="8"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>이러한 여러 유형에 대해 알 필요가 없다. 일반적으로 <코드체>NA</코드체>를 사용하면 되는데, 왜냐하면 다음에 설명할 암시적 강제 변환 규칙으로 올바른 유형으로 변환되기 때문이다. 그러나 입력에 대해 엄격한 함수가 몇몇 있으므로 이 내용을 미리 알고 있으면 필요한 경우 구체적으로 지정할 수 있어 도움이 될 것이다.</p>
</div>
<div id="연습문제" class="section level3">
<h3><span class="header-section-number">12.3.5</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><코드체>is.finite(x)</코드체>와 <코드체>!is.infinite(x)</코드체>의 차이점을 설명하라.</p></li>
<li><p><코드체>dplyr::near()</코드체>의 소스 코드를 읽으라 (힌트: 소스 코드를 보기 위해서는 <코드체>()</코드체>을 빼라). 어떻게 작동하는가?</p></li>
<li><p>논리형 벡터는 세 가지 값을 가질 수 있다. 정수형 벡터는 몇 개의 값을 가질 수 있는가? 더블형은 몇 개의 값을 가질 수 있는가? 구글을 사용하여 조사해보라.</p></li>
<li><p>더블형을 정수형으로 변환하는 최소 네 개의 함수를 브레인스토밍 해보라. 이들은 어떻게 다른가? 정확하게 설명하라.</p></li>
<li><p>readr 패키지의 어떤 함수들로 문자열을 논리형, 정수형, 더블형 벡터로 바꿀 수 있는가?</p></li>
</ol>
</div>
</div>
<div id="원자벡터-이용하기" class="section level2">
<h2><span class="header-section-number">12.4</span> 원자벡터 이용하기</h2>
<p>여러 유형의 원자 벡터를 이해했으므로, 이제 함께 사용할 수 있는 도구들을 검토하는 것이 좋다. 여기에는 다음이 포함된다.</p>
<ol style="list-style-type: decimal">
<li><p>한 유형에서 다른 유형으로 변환시키는 법. 자동으로 변환되는 조건.</p></li>
<li><p>한 객체가 특정 유형 벡터인지 알아보는 법.</p></li>
<li><p>다른 길이의 벡터들로 작업할 때 발생하는 일.</p></li>
<li><p>벡터의 요소를 이름 짓는 법.</p></li>
<li><p>관심 있는 요소를 추출하는 법.</p></li>
</ol>
<div id="강제변환" class="section level3">
<h3><span class="header-section-number">12.4.1</span> 강제변환</h3>
<p>한 유형 벡터에서 다른 유형으로 강제 변환하는 두 가지 방법이 있다.</p>
<ol style="list-style-type: decimal">
<li><p>명시적 강제 변환은 <code>logical()</code>, <code>as.integer()</code>, <code>as.double()</code>, <code>as.character()</code> 와 같은 함수를 호출할 때 발생한다. 명시적 강제 변환이 필요한 경우, 앞 단계를 고쳐서 처음부터 벡터가 잘못된 유형을 갖지 않도록 할 수 있는지 항상 확인해야 한다. 예를 들어 readr 의 <코드체>col_types</코드체> 명세를 조정해야 할 수도 있다.</p></li>
<li><p>암묵적 강제 변환은 특정 유형의 벡터가 필요한 상황에서 어떤 벡터를 사용하는 경우 발생한다. 예를 들어 수치형 요약 함수에 논리형 벡터를 사용하거나 정수형 벡터가 예상되는 곳에 더블형 벡터를 사용하는 경우이다.</p></li>
</ol>
<p>명시적 강제 변환은 상대적으로 거의 사용되기 않고, 이해하기 쉽기 때문에 여기서는 암묵적 강제 변환에 대해서 초점을 맞춘다.</p>
<p>우리는 이미 가장 중요한 형식의 암묵적 강제 변환을 보았다. 수치형 문맥에서 논리형 벡터를 사용했었다. 이 경우 <코드체>TRUE</코드체>는 <코드체>1</코드체>로 변환되고 <코드체>FALSE</코드체>는 <코드체>0</코드체>으로 변환된다. 즉, 논리형 벡터의 합계는 참값의 개수이고 논리형 벡터의 평균은 참값의 비율이다.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb350-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">20</span>, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb350-2" data-line-number="2">y &lt;-<span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb350-3" data-line-number="3"><span class="kw">sum</span>(y)  <span class="co"># 10 보다 큰 것의 개수는?</span></a>
<a class="sourceLine" id="cb350-4" data-line-number="4"><span class="co">#&gt; [1] 38</span></a>
<a class="sourceLine" id="cb350-5" data-line-number="5"><span class="kw">mean</span>(y) <span class="co"># 10 보다 큰 것의 비율은?</span></a>
<a class="sourceLine" id="cb350-6" data-line-number="6"><span class="co">#&gt; [1] 0.38</span></a></code></pre></div>
<p>반대 방향, 즉, 정수형에서 논리형으로의 암시적 강제 변환에 의존하는 코드(일반적으로 과거 방식)도 볼 수 있다.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb351-1" data-line-number="1"><span class="cf">if</span> (<span class="kw">length</span>(x)) {</a>
<a class="sourceLine" id="cb351-2" data-line-number="2">  <span class="co"># do something</span></a>
<a class="sourceLine" id="cb351-3" data-line-number="3">}</a></code></pre></div>
<p>이 경우 0은 <코드체>FALSE</코드체>로 변환되고 나머지는 <코드체>TRUE</코드체>로 변환된다. 이렇게 하면 코드를 이해하기가 더 어렵게 된다고 생각하기 때문에 이를 권장하지 않는다. 이 방법보다는 다음과 같이 명시적일 필요가 있다(<코드체>length(x) &gt; 0</코드체>).</p>
<p>또한, <코드체>c()</코드체>로 여러 유형을 포함하는 벡터를 만들려고 할 때, 다음과 같은 일이 일어난다는 것을 이해하는 것도 중요하다. 가장 복잡한 유형으로 변환된다.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb352-1" data-line-number="1"><span class="kw">typeof</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, 1L))</a>
<a class="sourceLine" id="cb352-2" data-line-number="2"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb352-3" data-line-number="3"><span class="kw">typeof</span>(<span class="kw">c</span>(1L, <span class="fl">1.5</span>))</a>
<a class="sourceLine" id="cb352-4" data-line-number="4"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb352-5" data-line-number="5"><span class="kw">typeof</span>(<span class="kw">c</span>(<span class="fl">1.5</span>, <span class="st">&quot;a&quot;</span>))</a>
<a class="sourceLine" id="cb352-6" data-line-number="6"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>벡터의 유형은 개별 요소가 아닌 전체 벡터의 특성이므로, 한 원자벡터의 유형이 여러 개일 수는 없다. 동일한 벡터에서 여러 유형을 혼합해야 하는 경우에는 리스트를 사용하면 된다. 이에 대해서는 곧 배울 것이다.</p>
</div>
<div id="테스트-함수" class="section level3">
<h3><span class="header-section-number">12.4.2</span> 테스트 함수</h3>
<p>벡터 유형에 따라 다른 작업을 수행해야 하는 때가 종종 있다. 한 방법은 <코드체>typeof()</코드체>를 사용하는 것이다. 다른 하나는 <코드체>TRUE</코드체> 또는 <코드체>FALSE</코드체>를 반환하는 테스트 함수를 사용하는 것이다. 베이스 R에는 <코드체>is.vector()</코드체> 및 <코드체>is.atomic()</코드체>과 같은 함수가 많이 있지만, 이들은 종종 예상과 다른 결과를 반환한다. 대신, purrr이 제공하는 <코드체>is_*</코드체> 함수를 사용하는 것이 더 안전하다. 다음 표에 요약되어 있다.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>lgl</th>
<th>int</th>
<th>dbl</th>
<th>chr</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is_logical()</code></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is_integer()</code></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_double()</code></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is_numeric()</code></td>
<td></td>
<td>x</td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_character()</code></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
</tr>
<tr class="even">
<td><code>is_atomic()</code></td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td></td>
</tr>
<tr class="odd">
<td><code>is_list()</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
<tr class="even">
<td><code>is_vector()</code></td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
</tbody>
</table>
<p>위의 각 함수마다 <코드체>is_scalar_atomic()</코드체>과 같은 ’스칼라‘ 버전이 있는데, 이는 길이가 1인지 확인한다. 예를 들어 함수에 대한 인수가 단일 논리형 값인지 확인하려는 경우에 유용하다.</p>
</div>
<div id="스칼라와-재활용-규칙" class="section level3">
<h3><span class="header-section-number">12.4.3</span> 스칼라와 재활용 규칙</h3>
<p>R 은 호환성을 위해 벡터의 유형을 암묵적으로 강제 변환할 뿐만 아니라, 벡터의 길이도 암묵적으로 강제 변환한다. 짧은 벡터가 긴 벡터의 길이로 반복되거나 재활용되므로 이를 벡터 재활용이라고 한다.</p>
<p>벡터 재활용은 벡터와 ’스칼라’를 혼합할 때 매우 유용하다. 스칼라를 따옴표로 묶은 이유는 R에는 사실 스칼라가 존재하지 않고, 숫자 하나는 길이가 1인 벡터이기 때문이다. 스칼라가 없으므로 대부분의 내장 함수는 벡터화 (즉, 수치 벡터에서 작동)된다. 따라서 예로 든 다음의 코드가 실행된다.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb353-1" data-line-number="1"><span class="kw">sample</span>(<span class="dv">10</span>) <span class="op">+</span><span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb353-2" data-line-number="2"><span class="co">#&gt;  [1] 107 104 103 109 102 101 106 110 105 108</span></a>
<a class="sourceLine" id="cb353-3" data-line-number="3"><span class="kw">runif</span>(<span class="dv">10</span>) <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span></a>
<a class="sourceLine" id="cb353-4" data-line-number="4"><span class="co">#&gt;  [1] FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</span></a></code></pre></div>
<p>R에서 기초적인 수학 연산은 벡터에 작동한다. 즉, 간단한 수학 계산을 수행할 때 명시적 반복을 수행할 필요가 없다.</p>
<p>같은 길이의 두 벡터 또는 벡터와 ’스칼라’를 더할 경우 일어나야 하는 일은 직관적이다. 그러나 길이가 다른 두 개의 벡터를 더하면 어떻게 되는가?</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb354-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb354-2" data-line-number="2"><span class="co">#&gt;  [1]  2  4  4  6  6  8  8 10 10 12</span></a></code></pre></div>
<p>여기에서 R은 가장 짧은 벡터를 가장 긴 벡터 길이로 확장하는데, 소위 재활용이라고 부른다. 길이가 더 긴 길이의 정수배가 아닌 경우를 제외하고는 침묵한다.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb355-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb355-2" data-line-number="2"><span class="co">#&gt; Warning in 1:10 + 1:3: longer object length is not a multiple of shorter object</span></a>
<a class="sourceLine" id="cb355-3" data-line-number="3"><span class="co">#&gt; length</span></a>
<a class="sourceLine" id="cb355-4" data-line-number="4"><span class="co">#&gt;  [1]  2  4  6  5  7  9  8 10 12 11</span></a></code></pre></div>
<p>벡터 재활용을 사용하면 매우 간결하고 영리한 코드를 작성할 수 있지만, 문제가 조용하게 숨겨질 수도 있다. 이러한 이유로 tidyverse의 벡터화된 함수는 스칼라가 아닌 다른 것을 재활용할 때 오류를 발생시킨다. 재활용하고 싶다면 <코드체>rep()</코드체>으로 직접 처리해야 한다.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb356-1" data-line-number="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">y =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb356-2" data-line-number="2"><span class="co">#&gt; Error: Tibble columns must have compatible sizes.</span></a>
<a class="sourceLine" id="cb356-3" data-line-number="3"><span class="co">#&gt; * Size 4: Existing data.</span></a>
<a class="sourceLine" id="cb356-4" data-line-number="4"><span class="co">#&gt; * Size 2: Column `y`.</span></a>
<a class="sourceLine" id="cb356-5" data-line-number="5"><span class="co">#&gt; ℹ Only values of size one are recycled.</span></a>
<a class="sourceLine" id="cb356-6" data-line-number="6"></a>
<a class="sourceLine" id="cb356-7" data-line-number="7"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">y =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb356-8" data-line-number="8"><span class="co">#&gt; # A tibble: 4 x 2</span></a>
<a class="sourceLine" id="cb356-9" data-line-number="9"><span class="co">#&gt;       x     y</span></a>
<a class="sourceLine" id="cb356-10" data-line-number="10"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb356-11" data-line-number="11"><span class="co">#&gt; 1     1     1</span></a>
<a class="sourceLine" id="cb356-12" data-line-number="12"><span class="co">#&gt; 2     2     2</span></a>
<a class="sourceLine" id="cb356-13" data-line-number="13"><span class="co">#&gt; 3     3     1</span></a>
<a class="sourceLine" id="cb356-14" data-line-number="14"><span class="co">#&gt; 4     4     2</span></a>
<a class="sourceLine" id="cb356-15" data-line-number="15"></a>
<a class="sourceLine" id="cb356-16" data-line-number="16"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">y =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">each =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb356-17" data-line-number="17"><span class="co">#&gt; # A tibble: 4 x 2</span></a>
<a class="sourceLine" id="cb356-18" data-line-number="18"><span class="co">#&gt;       x     y</span></a>
<a class="sourceLine" id="cb356-19" data-line-number="19"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb356-20" data-line-number="20"><span class="co">#&gt; 1     1     1</span></a>
<a class="sourceLine" id="cb356-21" data-line-number="21"><span class="co">#&gt; 2     2     1</span></a>
<a class="sourceLine" id="cb356-22" data-line-number="22"><span class="co">#&gt; 3     3     2</span></a>
<a class="sourceLine" id="cb356-23" data-line-number="23"><span class="co">#&gt; 4     4     2</span></a></code></pre></div>
</div>
<div id="벡터-이름-짓기" class="section level3">
<h3><span class="header-section-number">12.4.4</span> 벡터 이름 짓기</h3>
<p>모든 유형의 벡터는 이름을 지정할 수 있다. <코드체>c()</코드체>를 사용하여 생성 시 이름을 지정할 수 있다.</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb357-1" data-line-number="1"><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">2</span>, <span class="dt">z =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb357-2" data-line-number="2"><span class="co">#&gt; x y z </span></a>
<a class="sourceLine" id="cb357-3" data-line-number="3"><span class="co">#&gt; 1 2 4</span></a></code></pre></div>
<p>또는 생성 이후에 <코드체>purrr::set_names()</코드체>으로 이름을 지정할 수도 있다.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb358-1" data-line-number="1"><span class="kw">set_names</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb358-2" data-line-number="2"><span class="co">#&gt; a b c </span></a>
<a class="sourceLine" id="cb358-3" data-line-number="3"><span class="co">#&gt; 1 2 3</span></a></code></pre></div>
<p>명명된 벡터는 서브셋할 때 매우 유용하며, 이는 다음에 설명된다.</p>
</div>
<div id="vector-subsetting" class="section level3">
<h3><span class="header-section-number">12.4.5</span> 서브셋하기</h3>
<p>지금까지 <코드체>dplyr::filter()</코드체>를 사용하여 티블의 행을 필터링했다. <코드체>filter()</코드체>는 티블에서만 작동하기 때문에 벡터용 도구가 새로 필요한데, 바로 <코드체>[</코드체>이다. <코드체>[</코드체>은 서브셋하는 함수이며 <코드체>x[a]</코드체>와 같이 호출된다. 벡터를 하위 집합으로 지정할 수 있는 네 가지 유형의 항목이 있다.</p>
<ol style="list-style-type: decimal">
<li></li>
</ol>
<p>양의 정수로 서브셋하면 해당 위치의 요소가 유지된다.</p>
<ol style="list-style-type: decimal">
<li><p>정수형만 포함하는 수치형 벡터. 포함된 정수형은 모두 양수이거나 음수이거나 0이어야 한다.</p>
<p>양의 정수로 서브셋하면 해당 위치의 요소가 유지된다.</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb359-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>)</a>
<a class="sourceLine" id="cb359-2" data-line-number="2">x[<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</a>
<a class="sourceLine" id="cb359-3" data-line-number="3"><span class="co">#&gt; [1] &quot;three&quot; &quot;two&quot;   &quot;five&quot;</span></a></code></pre></div>
<p>위치를 반복하면 실제로 입력보다 긴 출력을 만들 수 있다.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb360-1" data-line-number="1">x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">2</span>)]</a>
<a class="sourceLine" id="cb360-2" data-line-number="2"><span class="co">#&gt; [1] &quot;one&quot;  &quot;one&quot;  &quot;five&quot; &quot;five&quot; &quot;five&quot; &quot;two&quot;</span></a></code></pre></div>
<p>음수값은 해당 위치의 요소를 누락시킨다.</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb361-1" data-line-number="1">x[<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-3</span>, <span class="dv">-5</span>)]</a>
<a class="sourceLine" id="cb361-2" data-line-number="2"><span class="co">#&gt; [1] &quot;two&quot;  &quot;four&quot;</span></a></code></pre></div>
<p>양수값과 음수값을 혼합하면 오류이다.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb362-1" data-line-number="1">x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-1</span>)]</a>
<a class="sourceLine" id="cb362-2" data-line-number="2"><span class="co">#&gt; Error in x[c(1, -1)]: only 0&#39;s may be mixed with negative subscripts</span></a></code></pre></div>
<p>다음의 오류 메세지는 0으로 서브셋했기 때문에 아무 값도 반환하지 않았음을 나타낸다.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb363-1" data-line-number="1">x[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb363-2" data-line-number="2"><span class="co">#&gt; character(0)</span></a></code></pre></div>
<p>이는 매우 유용하지는 않지만, 함수를 테스트하기 위해 이상한 데이터 구조를 만들고 싶다면 도움이 될 수 있다.</p></li>
<li><p>논리형 벡터로 서브셋하면 <코드체>TRUE</코드체> 값에 해당하는 모든 값이 유지된다. 이는 대개 비교 함수와 함께 사용하면 유용하다.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb364-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb364-2" data-line-number="2"></a>
<a class="sourceLine" id="cb364-3" data-line-number="3"><span class="co"># All non-missing values of x</span></a>
<a class="sourceLine" id="cb364-4" data-line-number="4">x[<span class="op">!</span><span class="kw">is.na</span>(x)]</a>
<a class="sourceLine" id="cb364-5" data-line-number="5"><span class="co">#&gt; [1] 10  3  5  8  1</span></a>
<a class="sourceLine" id="cb364-6" data-line-number="6"></a>
<a class="sourceLine" id="cb364-7" data-line-number="7"><span class="co"># All even (or missing!) values of x</span></a>
<a class="sourceLine" id="cb364-8" data-line-number="8">x[x <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb364-9" data-line-number="9"><span class="co">#&gt; [1] 10 NA  8 NA</span></a></code></pre></div></li>
<li><p>명명된 벡터가 있다면 이를 문자형 벡터로 서브셋할 수 있다.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">def =</span> <span class="dv">2</span>, <span class="dt">xyz =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb365-2" data-line-number="2">x[<span class="kw">c</span>(<span class="st">&quot;xyz&quot;</span>, <span class="st">&quot;def&quot;</span>)]</a>
<a class="sourceLine" id="cb365-3" data-line-number="3"><span class="co">#&gt; xyz def </span></a>
<a class="sourceLine" id="cb365-4" data-line-number="4"><span class="co">#&gt;   5   2</span></a></code></pre></div>
<p>양의 정수 경우와 같이, 개별 요소를 복제할 때 문자형 벡터를 사용할 수도 있다.</p></li>
<li><p>가장 간단한 서브셋 동작은 <코드체>x[]</코드체>이며, 전체 <코드체>x</코드체>를 반환한다. 이것은 벡터를 서브셋하는 데는 유용하지 않지만, 지수(index)를 공백으로 남겨 두어서 모든 행이나 열을 선택할 수 있기 때문에 행렬 (및 다른 고차원 구조)을 서브셋할 때 유용하다. 예를 들어 <코드체>x</코드체>가 2차원이면 <코드체>x[1, ]</코드체>은 첫 번째 행과 모든 열을 선택하고 <코드체>x[, -1]</코드체>은 모든 행과 첫 열을 제외한 모든 열을 선택한다.</p></li>
</ol>
<p>서브셋 동작을 활용하는 법에 대해 더 배우려면 <이탤릭>Advanced R</이탤릭>의 ’Subsetting‘ 장 <a href="http://adv-r.had.co.nz/Subsetting.html#applications" class="uri">http://adv-r.had.co.nz/Subsetting.html#applications</a> 을 보라.
<코드체>[</코드체> 의 중요한 변형이 있는데 바로 <코드체>[[</코드체>이다. <코드체>[[</코드체>은 오직 하나의 요소만 추출하고 항상 이름을 누락시킨다. for 루프에서와 같이 단일 항목을 추출한다는 것을 명확하게 밝히고 싶을 때 사용하는 것이 좋다. <코드체>[</코드체>과 <코드체>[[</코드체>의 차이점은 리스트에서 가장 두드러지는데, 이를 곧 살펴볼 것이다.</p>
</div>
<div id="연습문제-1" class="section level3">
<h3><span class="header-section-number">12.4.6</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><코드체>mean(is.na(x))</코드체>을 하면 벡터 <코드체>x</코드체>에 관해 어떤 것을 알려주는가? <코드체>sum(!is.finite(x))</코드체>는 어떤가?</p></li>
<li><p><코드체>is.vector()</코드체>의 도움말을 주의 깊게 읽어라. 이 함수가 실제로 테스트하는 것은 무엇인가? <코드체>is.atomic()</코드체>이 위의 원자 벡터의 정의를 따르지 않는 이유는 무엇인가?</p></li>
<li><p><코드체>setNames()</코드체>와 <코드체>purr::set_names()</코드체>를 비교∙대조하라.</p></li>
<li><p>벡터를 입력으로 하고 다음을 반환하는 함수를 작성하라.</p>
<ol style="list-style-type: decimal">
<li><p>마지막 값. <코드체>[</코드체>과 <코드체>[[</코드체> 중 어떤 것을 써야 할까?</p></li>
<li><p>짝수 위치의 요소</p></li>
<li><p>마지막 값을 제외한 모든 요소</p></li>
<li><p>짝수만(결측값은 제외)</p></li>
</ol></li>
<li><p><코드체>x[-which(x &gt; 0)]</코드체>이 <코드체>x[x &lt;= 0]</코드체>과 같지 않은 이유는 무엇인가?</p></li>
<li><p>벡터의 길이보다 큰 양의 정수로 서브셋하면 어떻게 되는가? 존재하지 않는 이름으로 서브셋하면 어떻게 되는가?</p></li>
</ol>
</div>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">12.5</span> 재귀 벡터 (리스트)</h2>
<p>리스트는 다른 리스트를 포함할 수 있기 때문에, 원자 벡터보다 한 단계 더 복잡하다. 이런 이유로 리스트는 계층적 또는 나무 같은(tree-like) 구조를 표현하는 데 적합하다. 리스트는 <코드체>list()</코드체>를 사용하여 생성된다.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb366-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb366-2" data-line-number="2">x</a>
<a class="sourceLine" id="cb366-3" data-line-number="3"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb366-4" data-line-number="4"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb366-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb366-6" data-line-number="6"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb366-7" data-line-number="7"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb366-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb366-9" data-line-number="9"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb366-10" data-line-number="10"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p><코드체>str()</코드체>은 리스트를 다루는 도구인데, 내용이 아닌 구조에 초점을 맞추기 때문에 매우 유용하다.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" data-line-number="1"><span class="kw">str</span>(x)</a>
<a class="sourceLine" id="cb367-2" data-line-number="2"><span class="co">#&gt; List of 3</span></a>
<a class="sourceLine" id="cb367-3" data-line-number="3"><span class="co">#&gt;  $ : num 1</span></a>
<a class="sourceLine" id="cb367-4" data-line-number="4"><span class="co">#&gt;  $ : num 2</span></a>
<a class="sourceLine" id="cb367-5" data-line-number="5"><span class="co">#&gt;  $ : num 3</span></a>
<a class="sourceLine" id="cb367-6" data-line-number="6"></a>
<a class="sourceLine" id="cb367-7" data-line-number="7">x_named &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>, <span class="dt">c =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb367-8" data-line-number="8"><span class="kw">str</span>(x_named)</a>
<a class="sourceLine" id="cb367-9" data-line-number="9"><span class="co">#&gt; List of 3</span></a>
<a class="sourceLine" id="cb367-10" data-line-number="10"><span class="co">#&gt;  $ a: num 1</span></a>
<a class="sourceLine" id="cb367-11" data-line-number="11"><span class="co">#&gt;  $ b: num 2</span></a>
<a class="sourceLine" id="cb367-12" data-line-number="12"><span class="co">#&gt;  $ c: num 3</span></a></code></pre></div>
<p>원자벡터와 다르게 <코드체>lists()</코드체>는 객체들을 혼합하여 포함할 수 있다.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb368-1" data-line-number="1">y &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, 1L, <span class="fl">1.5</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb368-2" data-line-number="2"><span class="kw">str</span>(y)</a>
<a class="sourceLine" id="cb368-3" data-line-number="3"><span class="co">#&gt; List of 4</span></a>
<a class="sourceLine" id="cb368-4" data-line-number="4"><span class="co">#&gt;  $ : chr &quot;a&quot;</span></a>
<a class="sourceLine" id="cb368-5" data-line-number="5"><span class="co">#&gt;  $ : int 1</span></a>
<a class="sourceLine" id="cb368-6" data-line-number="6"><span class="co">#&gt;  $ : num 1.5</span></a>
<a class="sourceLine" id="cb368-7" data-line-number="7"><span class="co">#&gt;  $ : logi TRUE</span></a></code></pre></div>
<p>리스트는 심지어 다른 리스트를 포함할 수도 있다!</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" data-line-number="1">z &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb369-2" data-line-number="2"><span class="kw">str</span>(z)</a>
<a class="sourceLine" id="cb369-3" data-line-number="3"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb369-4" data-line-number="4"><span class="co">#&gt;  $ :List of 2</span></a>
<a class="sourceLine" id="cb369-5" data-line-number="5"><span class="co">#&gt;   ..$ : num 1</span></a>
<a class="sourceLine" id="cb369-6" data-line-number="6"><span class="co">#&gt;   ..$ : num 2</span></a>
<a class="sourceLine" id="cb369-7" data-line-number="7"><span class="co">#&gt;  $ :List of 2</span></a>
<a class="sourceLine" id="cb369-8" data-line-number="8"><span class="co">#&gt;   ..$ : num 3</span></a>
<a class="sourceLine" id="cb369-9" data-line-number="9"><span class="co">#&gt;   ..$ : num 4</span></a></code></pre></div>
<div id="리스트-시각화" class="section level3">
<h3><span class="header-section-number">12.5.1</span> 리스트 시각화</h3>
<p>복잡한 리스트 조작 함수를 설명하기 위해 리스트를 시각적으로 표현하는 것이 편리하다. 예를 들어 다음 세 가지 리스트를 살펴보자.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb370-1" data-line-number="1">x1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb370-2" data-line-number="2">x2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb370-3" data-line-number="3">x3 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="kw">list</span>(<span class="dv">2</span>, <span class="kw">list</span>(<span class="dv">3</span>)))</a></code></pre></div>
<p>이들을 다음과 같이 나타낼 수 있다.</p>
<p><img src="diagrams/lists-structure.png" width="75%" style="display: block; margin: auto;" /></p>
<p>세 가지 원칙이 있다.</p>
<ol style="list-style-type: decimal">
<li><p>리스트는 모서리가 둥글다. 원자 벡터는 모서리가 사각이다.</p></li>
<li><p>자식은 부모 내부에 그려지며 계층을 쉽게 볼 수 있게 배경이 약간 더 어둡다.</p></li>
<li><p>자식의 방향 (즉, 행 또는 열)은 중요하지 않으므로 공간을 절약하거나 예제에서 중요한 속성을 잘 설명할 수 있는 행 또는 열 방향을 선택한다.</p></li>
</ol>
</div>
<div id="서브셋하기" class="section level3">
<h3><span class="header-section-number">12.5.2</span> 서브셋하기</h3>
<p>리스트를 서브셋하는 방법은 세 가지이다. 어떤 리스트를 <코드체>a</코드체>라 하자.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">b =</span> <span class="st">&quot;a string&quot;</span>, <span class="dt">c =</span> pi, <span class="dt">d =</span> <span class="kw">list</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-5</span>))</a></code></pre></div>
<ul>
<li><코드체>[</코드체>은 부분 리스트를 추출한다. 결과는 항상 리스트이다.</li>
</ul>
<pre><code>```r
str(a[1:2])
#&gt; List of 2
#&gt;  $ a: int [1:3] 1 2 3
#&gt;  $ b: chr &quot;a string&quot;
str(a[4])
#&gt; List of 1
#&gt;  $ d:List of 2
#&gt;   ..$ : num -1
#&gt;   ..$ : num -5
```

벡터에서와 같이 논리형, 정수형, 문자형 벡터로 서브셋할 수 있다. </code></pre>
<ul>
<li><p><코드체>[[</코드체>는 리스트의 단일 구성요소를 추출한다. 리스트의 계층구조에서 한 레벨을 제거한다.</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" data-line-number="1"><span class="kw">str</span>(a[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb373-2" data-line-number="2"><span class="co">#&gt;  int [1:3] 1 2 3</span></a>
<a class="sourceLine" id="cb373-3" data-line-number="3"><span class="kw">str</span>(a[[<span class="dv">4</span>]])</a>
<a class="sourceLine" id="cb373-4" data-line-number="4"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb373-5" data-line-number="5"><span class="co">#&gt;  $ : num -1</span></a>
<a class="sourceLine" id="cb373-6" data-line-number="6"><span class="co">#&gt;  $ : num -5</span></a></code></pre></div></li>
<li><p><코드체>$</코드체>은 리스트의 명명된 요소를 추출하는 단축문자이다. 이는 따옴표가 필요 없다는 것을 제외하고는 <코드체>[[</코드체>와 유사하게 동작한다.</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb374-1" data-line-number="1">a<span class="op">$</span>a</a>
<a class="sourceLine" id="cb374-2" data-line-number="2"><span class="co">#&gt; [1] 1 2 3</span></a>
<a class="sourceLine" id="cb374-3" data-line-number="3">a[[<span class="st">&quot;a&quot;</span>]]</a>
<a class="sourceLine" id="cb374-4" data-line-number="4"><span class="co">#&gt; [1] 1 2 3</span></a></code></pre></div></li>
</ul>
<p><코드체>[</코드체>과 <코드체>[[</코드체>의 차이는 리스트에 있어서 정말 중요하다. <코드체>[[</코드체>은 리스트 안으로 내려가는 반면 <코드체>[</코드체>은 더 작은 새 리스트를 반환하기 때문이다. 앞의 코드와 출력을 Figure <a href="vectors.html#fig:lists-subsetting">12.2</a> 의 시각화 표현과 비교하라.</p>
<div class="figure" style="text-align: center"><span id="fig:lists-subsetting"></span>
<img src="diagrams/lists-subsetting.png" alt="Subsetting a list, visually." width="75%" />
<p class="caption">
Figure 12.2: Subsetting a list, visually.
</p>
</div>
</div>
<div id="후추-리스트" class="section level3">
<h3><span class="header-section-number">12.5.3</span> 후추 리스트</h3>
<p>The difference between <code>[</code> and <code>[[</code> is very important, but it’s easy to get confused. To help you remember, let me show you an unusual pepper shaker.</p>
<p><img src="images/pepper.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p>If this pepper shaker is your list <code>x</code>, then, <code>x[1]</code> is a pepper shaker containing a single pepper packet:</p>
<p><img src="images/pepper-1.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p><code>x[2]</code> would look the same, but would contain the second packet. <code>x[1:2]</code> would be a pepper shaker containing two pepper packets.</p>
<p><code>x[[1]]</code> is:</p>
<p><img src="images/pepper-2.jpg" width="25%" style="display: block; margin: auto;" /></p>
<p>If you wanted to get the content of the pepper package, you’d need <code>x[[1]][[1]]</code>:</p>
<p><img src="images/pepper-3.jpg" width="25%" style="display: block; margin: auto;" /></p>
</div>
<div id="exercises" class="section level3">
<h3><span class="header-section-number">12.5.4</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>Draw the following lists as nested sets:</p>
<ol style="list-style-type: decimal">
<li><code>list(a, b, list(c, d), list(e, f))</code></li>
<li><code>list(list(list(list(list(list(a))))))</code></li>
</ol></li>
<li><p>What happens if you subset a tibble as if you’re subsetting a list?
What are the key differences between a list and a tibble?</p></li>
</ol>
</div>
</div>
<div id="attributes" class="section level2">
<h2><span class="header-section-number">12.6</span> Attributes</h2>
<p>Any vector can contain arbitrary additional metadata through its <strong>attributes</strong>. You can think of attributes as named list of vectors that can be attached to any object.
You can get and set individual attribute values with <code>attr()</code> or see them all at once with <code>attributes()</code>.</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb375-2" data-line-number="2"><span class="kw">attr</span>(x, <span class="st">&quot;greeting&quot;</span>)</a>
<a class="sourceLine" id="cb375-3" data-line-number="3"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb375-4" data-line-number="4"><span class="kw">attr</span>(x, <span class="st">&quot;greeting&quot;</span>) &lt;-<span class="st"> &quot;Hi!&quot;</span></a>
<a class="sourceLine" id="cb375-5" data-line-number="5"><span class="kw">attr</span>(x, <span class="st">&quot;farewell&quot;</span>) &lt;-<span class="st"> &quot;Bye!&quot;</span></a>
<a class="sourceLine" id="cb375-6" data-line-number="6"><span class="kw">attributes</span>(x)</a>
<a class="sourceLine" id="cb375-7" data-line-number="7"><span class="co">#&gt; $greeting</span></a>
<a class="sourceLine" id="cb375-8" data-line-number="8"><span class="co">#&gt; [1] &quot;Hi!&quot;</span></a>
<a class="sourceLine" id="cb375-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb375-10" data-line-number="10"><span class="co">#&gt; $farewell</span></a>
<a class="sourceLine" id="cb375-11" data-line-number="11"><span class="co">#&gt; [1] &quot;Bye!&quot;</span></a></code></pre></div>
<p>There are three very important attributes that are used to implement fundamental parts of R:</p>
<ol style="list-style-type: decimal">
<li><strong>Names</strong> are used to name the elements of a vector.</li>
<li><strong>Dimensions</strong> (dims, for short) make a vector behave like a matrix or array.</li>
<li><strong>Class</strong> is used to implement the S3 object oriented system.</li>
</ol>
<p>You’ve seen names above, and we won’t cover dimensions because we don’t use matrices in this book. It remains to describe the class, which controls how <strong>generic functions</strong> work. Generic functions are key to object oriented programming in R, because they make functions behave differently for different classes of input. A detailed discussion of object oriented programming is beyond the scope of this book, but you can read more about it in <em>Advanced R</em> at <a href="http://adv-r.had.co.nz/OO-essentials.html#s3" class="uri">http://adv-r.had.co.nz/OO-essentials.html#s3</a>.</p>
<p>Here’s what a typical generic function looks like:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" data-line-number="1">as.Date</a>
<a class="sourceLine" id="cb376-2" data-line-number="2"><span class="co">#&gt; function (x, ...) </span></a>
<a class="sourceLine" id="cb376-3" data-line-number="3"><span class="co">#&gt; UseMethod(&quot;as.Date&quot;)</span></a>
<a class="sourceLine" id="cb376-4" data-line-number="4"><span class="co">#&gt; &lt;bytecode: 0x7fe97651a0e0&gt;</span></a>
<a class="sourceLine" id="cb376-5" data-line-number="5"><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></a></code></pre></div>
<p>The call to “UseMethod” means that this is a generic function, and it will call a specific <strong>method</strong>, a function, based on the class of the first argument. (All methods are functions; not all functions are methods). You can list all the methods for a generic with <code>methods()</code>:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" data-line-number="1"><span class="kw">methods</span>(<span class="st">&quot;as.Date&quot;</span>)</a>
<a class="sourceLine" id="cb377-2" data-line-number="2"><span class="co">#&gt; [1] as.Date.character   as.Date.default     as.Date.factor     </span></a>
<a class="sourceLine" id="cb377-3" data-line-number="3"><span class="co">#&gt; [4] as.Date.numeric     as.Date.POSIXct     as.Date.POSIXlt    </span></a>
<a class="sourceLine" id="cb377-4" data-line-number="4"><span class="co">#&gt; [7] as.Date.vctrs_sclr* as.Date.vctrs_vctr*</span></a>
<a class="sourceLine" id="cb377-5" data-line-number="5"><span class="co">#&gt; see &#39;?methods&#39; for accessing help and source code</span></a></code></pre></div>
<p>For example, if <code>x</code> is a character vector, <code>as.Date()</code> will call <code>as.Date.character()</code>; if it’s a factor, it’ll call <code>as.Date.factor()</code>.</p>
<p>You can see the specific implementation of a method with <code>getS3method()</code>:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb378-1" data-line-number="1"><span class="kw">getS3method</span>(<span class="st">&quot;as.Date&quot;</span>, <span class="st">&quot;default&quot;</span>)</a>
<a class="sourceLine" id="cb378-2" data-line-number="2"><span class="co">#&gt; function (x, ...) </span></a>
<a class="sourceLine" id="cb378-3" data-line-number="3"><span class="co">#&gt; {</span></a>
<a class="sourceLine" id="cb378-4" data-line-number="4"><span class="co">#&gt;     if (inherits(x, &quot;Date&quot;)) </span></a>
<a class="sourceLine" id="cb378-5" data-line-number="5"><span class="co">#&gt;         x</span></a>
<a class="sourceLine" id="cb378-6" data-line-number="6"><span class="co">#&gt;     else if (is.null(x)) </span></a>
<a class="sourceLine" id="cb378-7" data-line-number="7"><span class="co">#&gt;         .Date(numeric())</span></a>
<a class="sourceLine" id="cb378-8" data-line-number="8"><span class="co">#&gt;     else if (is.logical(x) &amp;&amp; all(is.na(x))) </span></a>
<a class="sourceLine" id="cb378-9" data-line-number="9"><span class="co">#&gt;         .Date(as.numeric(x))</span></a>
<a class="sourceLine" id="cb378-10" data-line-number="10"><span class="co">#&gt;     else stop(gettextf(&quot;do not know how to convert &#39;%s&#39; to class %s&quot;, </span></a>
<a class="sourceLine" id="cb378-11" data-line-number="11"><span class="co">#&gt;         deparse1(substitute(x)), dQuote(&quot;Date&quot;)), domain = NA)</span></a>
<a class="sourceLine" id="cb378-12" data-line-number="12"><span class="co">#&gt; }</span></a>
<a class="sourceLine" id="cb378-13" data-line-number="13"><span class="co">#&gt; &lt;bytecode: 0x7fe977652e38&gt;</span></a>
<a class="sourceLine" id="cb378-14" data-line-number="14"><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></a>
<a class="sourceLine" id="cb378-15" data-line-number="15"><span class="kw">getS3method</span>(<span class="st">&quot;as.Date&quot;</span>, <span class="st">&quot;numeric&quot;</span>)</a>
<a class="sourceLine" id="cb378-16" data-line-number="16"><span class="co">#&gt; function (x, origin, ...) </span></a>
<a class="sourceLine" id="cb378-17" data-line-number="17"><span class="co">#&gt; {</span></a>
<a class="sourceLine" id="cb378-18" data-line-number="18"><span class="co">#&gt;     if (missing(origin)) {</span></a>
<a class="sourceLine" id="cb378-19" data-line-number="19"><span class="co">#&gt;         if (!length(x)) </span></a>
<a class="sourceLine" id="cb378-20" data-line-number="20"><span class="co">#&gt;             return(.Date(numeric()))</span></a>
<a class="sourceLine" id="cb378-21" data-line-number="21"><span class="co">#&gt;         if (!any(is.finite(x))) </span></a>
<a class="sourceLine" id="cb378-22" data-line-number="22"><span class="co">#&gt;             return(.Date(x))</span></a>
<a class="sourceLine" id="cb378-23" data-line-number="23"><span class="co">#&gt;         stop(&quot;&#39;origin&#39; must be supplied&quot;)</span></a>
<a class="sourceLine" id="cb378-24" data-line-number="24"><span class="co">#&gt;     }</span></a>
<a class="sourceLine" id="cb378-25" data-line-number="25"><span class="co">#&gt;     as.Date(origin, ...) + x</span></a>
<a class="sourceLine" id="cb378-26" data-line-number="26"><span class="co">#&gt; }</span></a>
<a class="sourceLine" id="cb378-27" data-line-number="27"><span class="co">#&gt; &lt;bytecode: 0x7fe978943ee8&gt;</span></a>
<a class="sourceLine" id="cb378-28" data-line-number="28"><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></a></code></pre></div>
<p>The most important S3 generic is <code>print()</code>: it controls how the object is printed when you type its name at the console. Other important generics are the subsetting functions <code>[</code>, <code>[[</code>, and <code>$</code>.</p>
</div>
<div id="augmented-vectors" class="section level2">
<h2><span class="header-section-number">12.7</span> Augmented vectors</h2>
<p>Atomic vectors and lists are the building blocks for other important vector types like factors and dates. I call these <strong>augmented vectors</strong>, because they are vectors with additional <strong>attributes</strong>, including class. Because augmented vectors have a class, they behave differently to the atomic vector on which they are built. In this book, we make use of four important augmented vectors:</p>
<ul>
<li>Factors</li>
<li>Dates</li>
<li>Date-times</li>
<li>Tibbles</li>
</ul>
<p>These are described below.</p>
<div id="factors" class="section level3">
<h3><span class="header-section-number">12.7.1</span> Factors</h3>
<p>Factors are designed to represent categorical data that can take a fixed set of possible values. Factors are built on top of integers, and have a levels attribute:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb379-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;ab&quot;</span>, <span class="st">&quot;cd&quot;</span>, <span class="st">&quot;ab&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;ab&quot;</span>, <span class="st">&quot;cd&quot;</span>, <span class="st">&quot;ef&quot;</span>))</a>
<a class="sourceLine" id="cb379-2" data-line-number="2"><span class="kw">typeof</span>(x)</a>
<a class="sourceLine" id="cb379-3" data-line-number="3"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb379-4" data-line-number="4"><span class="kw">attributes</span>(x)</a>
<a class="sourceLine" id="cb379-5" data-line-number="5"><span class="co">#&gt; $levels</span></a>
<a class="sourceLine" id="cb379-6" data-line-number="6"><span class="co">#&gt; [1] &quot;ab&quot; &quot;cd&quot; &quot;ef&quot;</span></a>
<a class="sourceLine" id="cb379-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb379-8" data-line-number="8"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb379-9" data-line-number="9"><span class="co">#&gt; [1] &quot;factor&quot;</span></a></code></pre></div>
</div>
<div id="dates-and-date-times" class="section level3">
<h3><span class="header-section-number">12.7.2</span> Dates and date-times</h3>
<p>Dates in R are numeric vectors that represent the number of days since 1 January 1970.</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb380-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;1971-01-01&quot;</span>)</a>
<a class="sourceLine" id="cb380-2" data-line-number="2"><span class="kw">unclass</span>(x)</a>
<a class="sourceLine" id="cb380-3" data-line-number="3"><span class="co">#&gt; [1] 365</span></a>
<a class="sourceLine" id="cb380-4" data-line-number="4"></a>
<a class="sourceLine" id="cb380-5" data-line-number="5"><span class="kw">typeof</span>(x)</a>
<a class="sourceLine" id="cb380-6" data-line-number="6"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb380-7" data-line-number="7"><span class="kw">attributes</span>(x)</a>
<a class="sourceLine" id="cb380-8" data-line-number="8"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb380-9" data-line-number="9"><span class="co">#&gt; [1] &quot;Date&quot;</span></a></code></pre></div>
<p>Date-times are numeric vectors with class <code>POSIXct</code> that represent the number of seconds since 1 January 1970. (In case you were wondering, “POSIXct” stands for “Portable Operating System Interface”, calendar time.)</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb381-1" data-line-number="1">x &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw">ymd_hm</span>(<span class="st">&quot;1970-01-01 01:00&quot;</span>)</a>
<a class="sourceLine" id="cb381-2" data-line-number="2"><span class="kw">unclass</span>(x)</a>
<a class="sourceLine" id="cb381-3" data-line-number="3"><span class="co">#&gt; [1] 3600</span></a>
<a class="sourceLine" id="cb381-4" data-line-number="4"><span class="co">#&gt; attr(,&quot;tzone&quot;)</span></a>
<a class="sourceLine" id="cb381-5" data-line-number="5"><span class="co">#&gt; [1] &quot;UTC&quot;</span></a>
<a class="sourceLine" id="cb381-6" data-line-number="6"></a>
<a class="sourceLine" id="cb381-7" data-line-number="7"><span class="kw">typeof</span>(x)</a>
<a class="sourceLine" id="cb381-8" data-line-number="8"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb381-9" data-line-number="9"><span class="kw">attributes</span>(x)</a>
<a class="sourceLine" id="cb381-10" data-line-number="10"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb381-11" data-line-number="11"><span class="co">#&gt; [1] &quot;POSIXct&quot; &quot;POSIXt&quot; </span></a>
<a class="sourceLine" id="cb381-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb381-13" data-line-number="13"><span class="co">#&gt; $tzone</span></a>
<a class="sourceLine" id="cb381-14" data-line-number="14"><span class="co">#&gt; [1] &quot;UTC&quot;</span></a></code></pre></div>
<p>The <code>tzone</code> attribute is optional. It controls how the time is printed, not what absolute time it refers to.</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb382-1" data-line-number="1"><span class="kw">attr</span>(x, <span class="st">&quot;tzone&quot;</span>) &lt;-<span class="st"> &quot;US/Pacific&quot;</span></a>
<a class="sourceLine" id="cb382-2" data-line-number="2">x</a>
<a class="sourceLine" id="cb382-3" data-line-number="3"><span class="co">#&gt; [1] &quot;1969-12-31 17:00:00 PST&quot;</span></a>
<a class="sourceLine" id="cb382-4" data-line-number="4"></a>
<a class="sourceLine" id="cb382-5" data-line-number="5"><span class="kw">attr</span>(x, <span class="st">&quot;tzone&quot;</span>) &lt;-<span class="st"> &quot;US/Eastern&quot;</span></a>
<a class="sourceLine" id="cb382-6" data-line-number="6">x</a>
<a class="sourceLine" id="cb382-7" data-line-number="7"><span class="co">#&gt; [1] &quot;1969-12-31 20:00:00 EST&quot;</span></a></code></pre></div>
<p>There is another type of date-times called POSIXlt. These are built on top of named lists:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb383-1" data-line-number="1">y &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(x)</a>
<a class="sourceLine" id="cb383-2" data-line-number="2"><span class="kw">typeof</span>(y)</a>
<a class="sourceLine" id="cb383-3" data-line-number="3"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb383-4" data-line-number="4"><span class="kw">attributes</span>(y)</a>
<a class="sourceLine" id="cb383-5" data-line-number="5"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb383-6" data-line-number="6"><span class="co">#&gt;  [1] &quot;sec&quot;    &quot;min&quot;    &quot;hour&quot;   &quot;mday&quot;   &quot;mon&quot;    &quot;year&quot;   &quot;wday&quot;   &quot;yday&quot;  </span></a>
<a class="sourceLine" id="cb383-7" data-line-number="7"><span class="co">#&gt;  [9] &quot;isdst&quot;  &quot;zone&quot;   &quot;gmtoff&quot;</span></a>
<a class="sourceLine" id="cb383-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb383-9" data-line-number="9"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb383-10" data-line-number="10"><span class="co">#&gt; [1] &quot;POSIXlt&quot; &quot;POSIXt&quot; </span></a>
<a class="sourceLine" id="cb383-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb383-12" data-line-number="12"><span class="co">#&gt; $tzone</span></a>
<a class="sourceLine" id="cb383-13" data-line-number="13"><span class="co">#&gt; [1] &quot;US/Eastern&quot; &quot;EST&quot;        &quot;EDT&quot;</span></a></code></pre></div>
<p>POSIXlts are rare inside the tidyverse. They do crop up in base R, because they are needed to extract specific components of a date, like the year or month. Since lubridate provides helpers for you to do this instead, you don’t need them. POSIXct’s are always easier to work with, so if you find you have a POSIXlt, you should always convert it to a regular data time <code>lubridate::as_date_time()</code>.</p>
</div>
<div id="tibbles" class="section level3">
<h3><span class="header-section-number">12.7.3</span> Tibbles</h3>
<p>Tibbles are augmented lists: they have class “tbl_df” + “tbl” + “data.frame”, and <code>names</code> (column) and <code>row.names</code> attributes:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb384-1" data-line-number="1">tb &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">y =</span> <span class="dv">5</span><span class="op">:</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb384-2" data-line-number="2"><span class="kw">typeof</span>(tb)</a>
<a class="sourceLine" id="cb384-3" data-line-number="3"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb384-4" data-line-number="4"><span class="kw">attributes</span>(tb)</a>
<a class="sourceLine" id="cb384-5" data-line-number="5"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb384-6" data-line-number="6"><span class="co">#&gt; [1] &quot;x&quot; &quot;y&quot;</span></a>
<a class="sourceLine" id="cb384-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb384-8" data-line-number="8"><span class="co">#&gt; $row.names</span></a>
<a class="sourceLine" id="cb384-9" data-line-number="9"><span class="co">#&gt; [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb384-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb384-11" data-line-number="11"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb384-12" data-line-number="12"><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></a></code></pre></div>
<p>The difference between a tibble and a list is that all the elements of a data frame must be vectors with the same length. All functions that work with tibbles enforce this constraint.</p>
<p>Traditional data.frames have a very similar structure:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb385-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">y =</span> <span class="dv">5</span><span class="op">:</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb385-2" data-line-number="2"><span class="kw">typeof</span>(df)</a>
<a class="sourceLine" id="cb385-3" data-line-number="3"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb385-4" data-line-number="4"><span class="kw">attributes</span>(df)</a>
<a class="sourceLine" id="cb385-5" data-line-number="5"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb385-6" data-line-number="6"><span class="co">#&gt; [1] &quot;x&quot; &quot;y&quot;</span></a>
<a class="sourceLine" id="cb385-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb385-8" data-line-number="8"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb385-9" data-line-number="9"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a>
<a class="sourceLine" id="cb385-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb385-11" data-line-number="11"><span class="co">#&gt; $row.names</span></a>
<a class="sourceLine" id="cb385-12" data-line-number="12"><span class="co">#&gt; [1] 1 2 3 4 5</span></a></code></pre></div>
<p>The main difference is the class. The class of tibble includes “data.frame” which means tibbles inherit the regular data frame behaviour by default.</p>
</div>
<div id="exercises-1" class="section level3">
<h3><span class="header-section-number">12.7.4</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What does <code>hms::hms(3600)</code> return? How does it print? What primitive
type is the augmented vector built on top of? What attributes does it
use?</p></li>
<li><p>Try and make a tibble that has columns with different lengths. What
happens?</p></li>
<li><p>Based on the definition above, is it ok to have a list as a
column of a tibble?</p></li>
</ol>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="communicate-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hadley/r4ds/edit/master/vectors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
